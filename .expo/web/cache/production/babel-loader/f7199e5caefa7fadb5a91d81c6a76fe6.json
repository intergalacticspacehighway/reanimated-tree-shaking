{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _extends from\"@babel/runtime/helpers/extends\";import NativeReanimatedModule from'./NativeReanimated';function jsListener(eventName,handler){return function(evt){handler(_extends(_extends({},evt.nativeEvent),{eventName:eventName}));};}var WorkletEventHandler=function(){function WorkletEventHandler(worklet){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];_classCallCheck(this,WorkletEventHandler);this.worklet=worklet;this.eventNames=eventNames;this.reattachNeeded=false;this.listeners={};this.viewTag=undefined;this.registrations=[];if(!NativeReanimatedModule[\"native\"]){this.listeners=eventNames.reduce(function(acc,eventName){acc[eventName]=jsListener(eventName,worklet);return acc;},{});}}_createClass(WorkletEventHandler,[{key:\"updateWorklet\",value:function updateWorklet(newWorklet){this.worklet=newWorklet;this.reattachNeeded=true;}},{key:\"registerForEvents\",value:function registerForEvents(viewTag,fallbackEventName){var _this=this;this.viewTag=viewTag;this.registrations=this.eventNames.map(function(eventName){return NativeReanimatedModule.registerEventHandler(viewTag+eventName,_this.worklet);});if(this.registrations.length===0&&fallbackEventName){this.registrations.push(NativeReanimatedModule.registerEventHandler(viewTag+fallbackEventName,this.worklet));}}},{key:\"unregisterFromEvents\",value:function unregisterFromEvents(){this.registrations.forEach(function(id){return NativeReanimatedModule.unregisterEventHandler(id);});this.registrations=[];}}]);return WorkletEventHandler;}();export{WorkletEventHandler as default};","map":{"version":3,"names":["_classCallCheck","_createClass","_extends","NativeReanimatedModule","jsListener","eventName","handler","evt","nativeEvent","WorkletEventHandler","worklet","eventNames","arguments","length","undefined","reattachNeeded","listeners","viewTag","registrations","reduce","acc","key","value","updateWorklet","newWorklet","registerForEvents","fallbackEventName","_this","map","registerEventHandler","push","unregisterFromEvents","forEach","id","unregisterEventHandler","default"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/WorkletEventHandler.js"],"sourcesContent":["import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _extends from\"@babel/runtime/helpers/extends\";import NativeReanimatedModule from'./NativeReanimated';function jsListener(eventName,handler){return function(evt){handler(_extends(_extends({},evt.nativeEvent),{eventName:eventName}));};}var WorkletEventHandler=function(){function WorkletEventHandler(worklet){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];_classCallCheck(this,WorkletEventHandler);this.worklet=worklet;this.eventNames=eventNames;this.reattachNeeded=false;this.listeners={};this.viewTag=undefined;this.registrations=[];if(!NativeReanimatedModule.native){this.listeners=eventNames.reduce(function(acc,eventName){acc[eventName]=jsListener(eventName,worklet);return acc;},{});}}_createClass(WorkletEventHandler,[{key:\"updateWorklet\",value:function updateWorklet(newWorklet){this.worklet=newWorklet;this.reattachNeeded=true;}},{key:\"registerForEvents\",value:function registerForEvents(viewTag,fallbackEventName){var _this=this;this.viewTag=viewTag;this.registrations=this.eventNames.map(function(eventName){return NativeReanimatedModule.registerEventHandler(viewTag+eventName,_this.worklet);});if(this.registrations.length===0&&fallbackEventName){this.registrations.push(NativeReanimatedModule.registerEventHandler(viewTag+fallbackEventName,this.worklet));}}},{key:\"unregisterFromEvents\",value:function unregisterFromEvents(){this.registrations.forEach(function(id){return NativeReanimatedModule.unregisterEventHandler(id);});this.registrations=[];}}]);return WorkletEventHandler;}();export{WorkletEventHandler as default};"],"mappings":"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"},"metadata":{},"sourceType":"module"}