{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.addHistoryItem=addHistoryItem;exports.getHistoryItem=getHistoryItem;function getHistoryItem(config,name){var _config$_internal$plu,_config$_internal,_config$_internal$plu2;return(_config$_internal$plu=(_config$_internal=config._internal)===null||_config$_internal===void 0?void 0:(_config$_internal$plu2=_config$_internal.pluginHistory)===null||_config$_internal$plu2===void 0?void 0:_config$_internal$plu2[name])!==null&&_config$_internal$plu!==void 0?_config$_internal$plu:null;}function addHistoryItem(config,item){if(!config._internal){config._internal={};}if(!config._internal.pluginHistory){config._internal.pluginHistory={};}if(!item.version){item.version='UNVERSIONED';}config._internal.pluginHistory[item.name]=item;return config;}","map":{"version":3,"sources":["../../src/utils/history.ts"],"names":["config","item"],"mappings":"kJAUO,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA,IAAA,CAGqB,CAAA,GAAA,CAAA,qBAAA,CAAA,iBAAA,CAAA,sBAAA,CAC1B,MAAA,CAAA,qBAAA,CAAA,CAAA,iBAAA,CAAOA,MAAM,CAAb,SAAA,IAAA,IAAA,EAAA,iBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,CAAA,sBAAA,CAAOA,iBAAAA,CAAP,aAAA,IAAA,IAAA,EAAA,sBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAOA,sBAAAA,CAAP,IAAOA,CAAP,IAAA,IAAA,EAAA,qBAAA,GAAA,IAAA,EAAA,CAAA,qBAAA,CAAA,IAAA,CACD,CAEM,QAAA,CAAA,cAAA,CAAA,MAAA,CAAA,IAAA,CAGO,CACZ,GAAI,CAACA,MAAM,CAAX,SAAA,CAAuB,CACrBA,MAAM,CAANA,SAAAA,CAAAA,EAAAA,CACD,CACD,GAAI,CAACA,MAAM,CAANA,SAAAA,CAAL,aAAA,CAAqC,CACnCA,MAAM,CAANA,SAAAA,CAAAA,aAAAA,CAAAA,EAAAA,CACD,CAED,GAAI,CAACC,IAAI,CAAT,OAAA,CAAmB,CACjBA,IAAI,CAAJA,OAAAA,CAAAA,aAAAA,CACD,CAEDD,MAAM,CAANA,SAAAA,CAAAA,aAAAA,CAA+BC,IAAI,CAAnCD,IAAAA,EAAAA,IAAAA,CAEA,MAAA,CAAA,MAAA,CACD","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { ModPlatform } from '../Plugin.types';\n\nexport type PluginHistoryItem = {\n  name: string;\n  version: string;\n  platform?: ModPlatform;\n};\n\nexport function getHistoryItem(\n  config: Pick<ExpoConfig, '_internal'>,\n  name: string\n): PluginHistoryItem | null {\n  return config._internal?.pluginHistory?.[name] ?? null;\n}\n\nexport function addHistoryItem(\n  config: ExpoConfig,\n  item: Omit<PluginHistoryItem, 'version'> & { version?: string }\n): ExpoConfig {\n  if (!config._internal) {\n    config._internal = {};\n  }\n  if (!config._internal.pluginHistory) {\n    config._internal.pluginHistory = {};\n  }\n\n  if (!item.version) {\n    item.version = 'UNVERSIONED';\n  }\n\n  config._internal.pluginHistory[item.name] = item;\n\n  return config;\n}\n"]},"metadata":{},"sourceType":"script"}