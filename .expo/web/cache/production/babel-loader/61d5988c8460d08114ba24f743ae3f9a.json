{"ast":null,"code":"import _toConsumableArray from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/toConsumableArray\";function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* global _frameTimestamp */import{useEffect,useRef}from'react';import{startMapper,stopMapper,makeRemote,requestFrame,getTimestamp,makeMutable}from'../core';import updateProps,{updatePropsJestWrapper}from'../UpdateProps';import{initialUpdaterRun}from'../animation';import NativeReanimatedModule from'../NativeReanimated';import{useSharedValue}from'./useSharedValue';import{buildWorkletsHash,canApplyOptimalisation,getStyleWithoutAnimations,hasColorProps,isAnimated,parseColors,styleDiff,validateAnimatedStyles}from'./utils';import{makeViewDescriptorsSet,makeViewsRefSet}from'../ViewDescriptorsSet';import{isJest,shouldBeUseWeb}from'../PlatformChecker';var prepareAnimation=function(){var _f=function _f(animatedProp,lastAnimation,lastValue){if(Array.isArray(animatedProp)){animatedProp.forEach(function(prop,index){return prepareAnimation(prop,lastAnimation&&lastAnimation[index],lastValue&&lastValue[index]);});// return animatedProp;\n}if(typeof animatedProp==='object'&&animatedProp.onFrame){var animation=animatedProp;var value=animation.current;if(lastValue!==undefined){if(typeof lastValue==='object'){if(lastValue.value!==undefined){// previously it was a shared value\nvalue=lastValue.value;}else if(lastValue.onFrame!==undefined){if((lastAnimation===null||lastAnimation===void 0?void 0:lastAnimation.current)!==undefined){// it was an animation before, copy its state\nvalue=lastAnimation.current;}else if((lastValue===null||lastValue===void 0?void 0:lastValue.current)!==undefined){// it was initialized\nvalue=lastValue.current;}}}else{// previously it was a plain value, just set it as starting point\nvalue=lastValue;}}animation.callStart=function(timestamp){animation.onStart(animation,value,timestamp,lastAnimation);};animation.callStart(getTimestamp());animation.callStart=null;}else if(typeof animatedProp==='object'){// it is an object\nObject.keys(animatedProp).forEach(function(key){return prepareAnimation(animatedProp[key],lastAnimation&&lastAnimation[key],lastValue&&lastValue[key]);});}};_f._closure={getTimestamp:getTimestamp};_f.asString=\"function prepareAnimation(animatedProp,lastAnimation,lastValue){const{getTimestamp}=jsThis._closure;{if(Array.isArray(animatedProp)){animatedProp.forEach(function(prop,index){return prepareAnimation(prop,lastAnimation&&lastAnimation[index],lastValue&&lastValue[index]);});}if(typeof animatedProp==='object'&&animatedProp.onFrame){const animation=animatedProp;let value=animation.current;if(lastValue!==undefined){if(typeof lastValue==='object'){if(lastValue.value!==undefined){value=lastValue.value;}else if(lastValue.onFrame!==undefined){if((lastAnimation===null||lastAnimation===void 0?void 0:lastAnimation.current)!==undefined){value=lastAnimation.current;}else if((lastValue===null||lastValue===void 0?void 0:lastValue.current)!==undefined){value=lastValue.current;}}}else{value=lastValue;}}animation.callStart=function(timestamp){animation.onStart(animation,value,timestamp,lastAnimation);};animation.callStart(getTimestamp());animation.callStart=null;}else if(typeof animatedProp==='object'){Object.keys(animatedProp).forEach(function(key){return prepareAnimation(animatedProp[key],lastAnimation&&lastAnimation[key],lastValue&&lastValue[key]);});}}}\";_f.__workletHash=1333702046144;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (11:0)\";return _f;}();var runAnimations=function(){var _f=function _f(animation,timestamp,key,result,animationsActive){if(!animationsActive.value){return true;}if(Array.isArray(animation)){result[key]=[];var allFinished=true;animation.forEach(function(entry,index){if(!runAnimations(entry,timestamp,index,result[key],animationsActive)){allFinished=false;}});return allFinished;}else if(typeof animation==='object'&&animation.onFrame){var finished=true;if(!animation.finished){if(animation.callStart){animation.callStart(timestamp);animation.callStart=null;}finished=animation.onFrame(animation,timestamp);animation.timestamp=timestamp;if(finished){animation.finished=true;animation.callback&&animation.callback(true/* finished */);}}result[key]=animation.current;return finished;}else if(typeof animation==='object'){result[key]={};var _allFinished=true;Object.keys(animation).forEach(function(k){if(!runAnimations(animation[k],timestamp,k,result[key],animationsActive)){_allFinished=false;}});return _allFinished;}else{result[key]=animation;return true;}};_f._closure={};_f.asString=\"function runAnimations(animation,timestamp,key,result,animationsActive){if(!animationsActive.value){return true;}if(Array.isArray(animation)){result[key]=[];let allFinished=true;animation.forEach(function(entry,index){if(!runAnimations(entry,timestamp,index,result[key],animationsActive)){allFinished=false;}});return allFinished;}else if(typeof animation==='object'&&animation.onFrame){let finished=true;if(!animation.finished){if(animation.callStart){animation.callStart(timestamp);animation.callStart=null;}finished=animation.onFrame(animation,timestamp);animation.timestamp=timestamp;if(finished){animation.finished=true;animation.callback&&animation.callback(true);}}result[key]=animation.current;return finished;}else if(typeof animation==='object'){result[key]={};let allFinished=true;Object.keys(animation).forEach(function(k){if(!runAnimations(animation[k],timestamp,k,result[key],animationsActive)){allFinished=false;}});return allFinished;}else{result[key]=animation;return true;}}\";_f.__workletHash=3625332641327;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (53:0)\";return _f;}();var styleUpdater=function(){var _f=function _f(viewDescriptors,updater,state,maybeViewRef,animationsActive){var _a,_b;var animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};var newValues=(_b=updater())!==null&&_b!==void 0?_b:{};var oldValues=state.last;var hasAnimations=false;for(var key in newValues){var value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}else{delete animations[key];}}if(hasAnimations){var frame=function frame(timestamp){var animations=state.animations,last=state.last,isAnimationCancelled=state.isAnimationCancelled;if(isAnimationCancelled){state.isAnimationRunning=false;return;}var updates={};var allFinished=true;for(var propName in animations){var finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}}if(updates){updateProps(viewDescriptors,updates,maybeViewRef);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}};state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}state.last=Object.assign({},oldValues,newValues);var style=getStyleWithoutAnimations(state.last);if(style){updateProps(viewDescriptors,style,maybeViewRef);}}else{state.isAnimationCancelled=true;state.animations=[];var diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(diff){updateProps(viewDescriptors,newValues,maybeViewRef);}}};_f._closure={isAnimated:isAnimated,prepareAnimation:prepareAnimation,runAnimations:runAnimations,updateProps:updateProps,requestFrame:requestFrame,getStyleWithoutAnimations:getStyleWithoutAnimations,styleDiff:styleDiff};_f.asString=\"function styleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive){const{isAnimated,prepareAnimation,runAnimations,updateProps,requestFrame,getStyleWithoutAnimations,styleDiff}=jsThis._closure;{var _a,_b;const animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};const newValues=(_b=updater())!==null&&_b!==void 0?_b:{};const oldValues=state.last;let hasAnimations=false;for(const key in newValues){const value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}else{delete animations[key];}}if(hasAnimations){const frame=function(timestamp){const{animations:animations,last:last,isAnimationCancelled:isAnimationCancelled}=state;if(isAnimationCancelled){state.isAnimationRunning=false;return;}const updates={};let allFinished=true;for(const propName in animations){const finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}}if(updates){updateProps(viewDescriptors,updates,maybeViewRef);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}};state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}state.last=Object.assign({},oldValues,newValues);const style=getStyleWithoutAnimations(state.last);if(style){updateProps(viewDescriptors,style,maybeViewRef);}}else{state.isAnimationCancelled=true;state.animations=[];const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(diff){updateProps(viewDescriptors,newValues,maybeViewRef);}}}}\";_f.__workletHash=13069955727964;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (100:0)\";return _f;}();var jestStyleUpdater=function(){var _f=function _f(viewDescriptors,updater,state,maybeViewRef,animationsActive,animatedStyle){var adapters=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[];var _a,_b;var animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};var newValues=(_b=updater())!==null&&_b!==void 0?_b:{};var oldValues=state.last;// extract animated props\n// extract animated props\nvar hasAnimations=false;Object.keys(animations).forEach(function(key){var value=newValues[key];if(!isAnimated(value)){delete animations[key];}});Object.keys(newValues).forEach(function(key){var value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}});function frame(timestamp){var animations=state.animations,last=state.last,isAnimationCancelled=state.isAnimationCancelled;if(isAnimationCancelled){state.isAnimationRunning=false;return;}var updates={};var allFinished=true;Object.keys(animations).forEach(function(propName){var finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}});if(Object.keys(updates).length){updatePropsJestWrapper(viewDescriptors,updates,maybeViewRef,animatedStyle,adapters);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}}if(hasAnimations){state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}}else{state.isAnimationCancelled=true;state.animations=[];}// calculate diff\n// calculate diff\nvar diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(Object.keys(diff).length!==0){updatePropsJestWrapper(viewDescriptors,diff,maybeViewRef,animatedStyle,adapters);}};_f._closure={isAnimated:isAnimated,prepareAnimation:prepareAnimation,runAnimations:runAnimations,updatePropsJestWrapper:updatePropsJestWrapper,requestFrame:requestFrame,styleDiff:styleDiff};_f.asString=\"function jestStyleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive,animatedStyle,adapters=[]){const{isAnimated,prepareAnimation,runAnimations,updatePropsJestWrapper,requestFrame,styleDiff}=jsThis._closure;{var _a,_b;const animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};const newValues=(_b=updater())!==null&&_b!==void 0?_b:{};const oldValues=state.last;let hasAnimations=false;Object.keys(animations).forEach(function(key){const value=newValues[key];if(!isAnimated(value)){delete animations[key];}});Object.keys(newValues).forEach(function(key){const value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}});function frame(timestamp){const{animations:animations,last:last,isAnimationCancelled:isAnimationCancelled}=state;if(isAnimationCancelled){state.isAnimationRunning=false;return;}const updates={};let allFinished=true;Object.keys(animations).forEach(function(propName){const finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}});if(Object.keys(updates).length){updatePropsJestWrapper(viewDescriptors,updates,maybeViewRef,animatedStyle,adapters);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}}if(hasAnimations){state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}}else{state.isAnimationCancelled=true;state.animations=[];}const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(Object.keys(diff).length!==0){updatePropsJestWrapper(viewDescriptors,diff,maybeViewRef,animatedStyle,adapters);}}}\";_f.__workletHash=13781832065631;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (174:0)\";return _f;}();// check for invalid usage of shared values in returned object\nfunction checkSharedValueUsage(prop,currentKey){if(Array.isArray(prop)){// if it's an array (i.ex. transform) validate all its elements\nvar _iterator=_createForOfIteratorHelper(prop),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;checkSharedValueUsage(element,currentKey);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else if(typeof prop==='object'&&prop.value===undefined){// if it's a nested object, run validation for all its props\nfor(var _i=0,_Object$keys=Object.keys(prop);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];checkSharedValueUsage(prop[key],key);}}else if(currentKey!==undefined&&typeof prop==='object'&&prop.value!==undefined){// if shared value is passed insted of its value, throw an error\nthrow new Error(\"invalid value passed to `\".concat(currentKey,\"`, maybe you forgot to use `.value`?\"));}}export function useAnimatedStyle(updater,dependencies,adapters){var _a,_b;var viewsRef=makeViewsRefSet();var viewDescriptors=makeViewDescriptorsSet();var initRef=useRef();var inputs=Object.values((_a=updater._closure)!==null&&_a!==void 0?_a:{});var adaptersArray=adapters?Array.isArray(adapters)?adapters:[adapters]:[];var adaptersHash=adapters?buildWorkletsHash(adaptersArray):null;var animationsActive=useSharedValue(true);var animatedStyle=useRef({});// build dependencies\nif(!dependencies){dependencies=[].concat(_toConsumableArray(inputs),[updater.__workletHash]);}else{dependencies.push(updater.__workletHash);}adaptersHash&&dependencies.push(adaptersHash);if(!initRef.current){var initialStyle=initialUpdaterRun(updater);validateAnimatedStyles(initialStyle);initRef.current={initial:{value:initialStyle,updater:updater},remoteState:makeRemote({last:initialStyle}),sharableViewDescriptors:makeMutable([])};viewDescriptors.rebuildsharableViewDescriptors(// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\ninitRef.current.sharableViewDescriptors);}dependencies.push((_b=initRef.current)===null||_b===void 0?void 0:_b.sharableViewDescriptors.value);// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nvar _initRef$current=initRef.current,initial=_initRef$current.initial,remoteState=_initRef$current.remoteState,sharableViewDescriptors=_initRef$current.sharableViewDescriptors;var maybeViewRef=NativeReanimatedModule[\"native\"]?undefined:viewsRef;useEffect(function(){var fun;var updaterFn=updater;var optimalization=updater.__optimalization;if(adapters){updaterFn=function(){var _f=function _f(){var newValues=updater();adaptersArray.forEach(function(adapter){adapter(newValues);});return newValues;};_f._closure={updater:updater,adaptersArray:adaptersArray};_f.asString=\"function _f(){const{updater,adaptersArray}=jsThis._closure;{const newValues=updater();adaptersArray.forEach(function(adapter){adapter(newValues);});return newValues;}}\";_f.__workletHash=15812374835043;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (315:24)\";return _f;}();}if(canApplyOptimalisation(updaterFn)&&!shouldBeUseWeb()){if(hasColorProps(updaterFn())){updaterFn=function(){var _f=function _f(){var newValues=updaterFn();var oldValues=remoteState.last;var diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);parseColors(diff);return diff;};_f._closure={updaterFn:updaterFn,remoteState:remoteState,styleDiff:styleDiff,parseColors:parseColors};_f.asString=\"function _f(){const{updaterFn,remoteState,styleDiff,parseColors}=jsThis._closure;{const newValues=updaterFn();const oldValues=remoteState.last;const diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);parseColors(diff);return diff;}}\";_f.__workletHash=5178118372497;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (326:28)\";return _f;}();}else{updaterFn=function(){var _f=function _f(){var newValues=updaterFn();var oldValues=remoteState.last;var diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);return diff;};_f._closure={updaterFn:updaterFn,remoteState:remoteState,styleDiff:styleDiff};_f.asString=\"function _f(){const{updaterFn,remoteState,styleDiff}=jsThis._closure;{const newValues=updaterFn();const oldValues=remoteState.last;const diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);return diff;}}\";_f.__workletHash=5024825431498;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (337:28)\";return _f;}();}}else if(!shouldBeUseWeb()){optimalization=0;updaterFn=function(){var _f=function _f(){var style=updaterFn();parseColors(style);return style;};_f._closure={updaterFn:updaterFn,parseColors:parseColors};_f.asString=\"function _f(){const{updaterFn,parseColors}=jsThis._closure;{const style=updaterFn();parseColors(style);return style;}}\";_f.__workletHash=14518071140053;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (349:24)\";return _f;}();}if(typeof updater.__optimalization!==undefined){updaterFn.__optimalization=optimalization;}if(isJest()){fun=function(){var _f=function _f(){jestStyleUpdater(sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray);};_f._closure={jestStyleUpdater:jestStyleUpdater,sharableViewDescriptors:sharableViewDescriptors,updater:updater,remoteState:remoteState,maybeViewRef:maybeViewRef,animationsActive:animationsActive,animatedStyle:animatedStyle,adaptersArray:adaptersArray};_f.asString=\"function _f(){const{jestStyleUpdater,sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray}=jsThis._closure;{jestStyleUpdater(sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray);}}\";_f.__workletHash=11302607948209;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (360:18)\";return _f;}();}else{fun=function(){var _f=function _f(){styleUpdater(sharableViewDescriptors,updaterFn,remoteState,maybeViewRef,animationsActive);};_f._closure={styleUpdater:styleUpdater,sharableViewDescriptors:sharableViewDescriptors,updaterFn:updaterFn,remoteState:remoteState,maybeViewRef:maybeViewRef,animationsActive:animationsActive};_f.asString=\"function _f(){const{styleUpdater,sharableViewDescriptors,updaterFn,remoteState,maybeViewRef,animationsActive}=jsThis._closure;{styleUpdater(sharableViewDescriptors,updaterFn,remoteState,maybeViewRef,animationsActive);}}\";_f.__workletHash=15042733015377;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (366:18)\";return _f;}();}var mapperId=startMapper(fun,inputs,[],updaterFn,// TODO fix this\nsharableViewDescriptors);return function(){stopMapper(mapperId);};},dependencies);useEffect(function(){animationsActive.value=true;return function(){// initRef.current = null;\n// viewsRef = null;\nanimationsActive.value=false;};},[]);checkSharedValueUsage(initial.value);if(process.env.JEST_WORKER_ID){return{viewDescriptors:viewDescriptors,initial:initial,viewsRef:viewsRef,animatedStyle:animatedStyle};}else{return{viewDescriptors:viewDescriptors,initial:initial,viewsRef:viewsRef};}}","map":{"version":3,"names":["useEffect","useRef","startMapper","stopMapper","makeRemote","requestFrame","getTimestamp","makeMutable","updateProps","updatePropsJestWrapper","initialUpdaterRun","NativeReanimatedModule","useSharedValue","buildWorkletsHash","canApplyOptimalisation","getStyleWithoutAnimations","hasColorProps","isAnimated","parseColors","styleDiff","validateAnimatedStyles","makeViewDescriptorsSet","makeViewsRefSet","isJest","shouldBeUseWeb","prepareAnimation","_f","animatedProp","lastAnimation","lastValue","Array","isArray","forEach","prop","index","onFrame","animation","value","current","undefined","callStart","timestamp","onStart","Object","keys","key","_closure","asString","__workletHash","__location","runAnimations","result","animationsActive","allFinished","entry","finished","callback","k","styleUpdater","viewDescriptors","updater","state","maybeViewRef","_a","_b","animations","newValues","oldValues","last","hasAnimations","frame","isAnimationCancelled","isAnimationRunning","updates","propName","_frameTimestamp","assign","style","diff","jestStyleUpdater","animatedStyle","adapters","length","checkSharedValueUsage","currentKey","element","Error","useAnimatedStyle","dependencies","viewsRef","initRef","inputs","values","adaptersArray","adaptersHash","push","initialStyle","initial","remoteState","sharableViewDescriptors","rebuildsharableViewDescriptors","fun","updaterFn","optimalization","__optimalization","adapter","mapperId","process","env","JEST_WORKER_ID"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js"],"sourcesContent":["/* global _frameTimestamp */\nimport { useEffect, useRef } from 'react';\nimport { startMapper, stopMapper, makeRemote, requestFrame, getTimestamp, makeMutable } from '../core';\nimport updateProps, { updatePropsJestWrapper } from '../UpdateProps';\nimport { initialUpdaterRun } from '../animation';\nimport NativeReanimatedModule from '../NativeReanimated';\nimport { useSharedValue } from './useSharedValue';\nimport { buildWorkletsHash, canApplyOptimalisation, getStyleWithoutAnimations, hasColorProps, isAnimated, parseColors, styleDiff, validateAnimatedStyles } from './utils';\nimport { makeViewDescriptorsSet, makeViewsRefSet } from '../ViewDescriptorsSet';\nimport { isJest, shouldBeUseWeb } from '../PlatformChecker';\n\nconst prepareAnimation = function () {\n  const _f = function (animatedProp, lastAnimation, lastValue) {\n    if (Array.isArray(animatedProp)) {\n      animatedProp.forEach((prop, index) => prepareAnimation(prop, lastAnimation && lastAnimation[index], lastValue && lastValue[index])); // return animatedProp;\n    }\n\n    if (typeof animatedProp === 'object' && animatedProp.onFrame) {\n      const animation = animatedProp;\n      let value = animation.current;\n\n      if (lastValue !== undefined) {\n        if (typeof lastValue === 'object') {\n          if (lastValue.value !== undefined) {\n            // previously it was a shared value\n            value = lastValue.value;\n          } else if (lastValue.onFrame !== undefined) {\n            if ((lastAnimation === null || lastAnimation === void 0 ? void 0 : lastAnimation.current) !== undefined) {\n              // it was an animation before, copy its state\n              value = lastAnimation.current;\n            } else if ((lastValue === null || lastValue === void 0 ? void 0 : lastValue.current) !== undefined) {\n              // it was initialized\n              value = lastValue.current;\n            }\n          }\n        } else {\n          // previously it was a plain value, just set it as starting point\n          value = lastValue;\n        }\n      }\n\n      animation.callStart = timestamp => {\n        animation.onStart(animation, value, timestamp, lastAnimation);\n      };\n\n      animation.callStart(getTimestamp());\n      animation.callStart = null;\n    } else if (typeof animatedProp === 'object') {\n      // it is an object\n      Object.keys(animatedProp).forEach(key => prepareAnimation(animatedProp[key], lastAnimation && lastAnimation[key], lastValue && lastValue[key]));\n    }\n  };\n\n  _f._closure = {\n    getTimestamp\n  };\n  _f.asString = \"function prepareAnimation(animatedProp,lastAnimation,lastValue){const{getTimestamp}=jsThis._closure;{if(Array.isArray(animatedProp)){animatedProp.forEach(function(prop,index){return prepareAnimation(prop,lastAnimation&&lastAnimation[index],lastValue&&lastValue[index]);});}if(typeof animatedProp==='object'&&animatedProp.onFrame){const animation=animatedProp;let value=animation.current;if(lastValue!==undefined){if(typeof lastValue==='object'){if(lastValue.value!==undefined){value=lastValue.value;}else if(lastValue.onFrame!==undefined){if((lastAnimation===null||lastAnimation===void 0?void 0:lastAnimation.current)!==undefined){value=lastAnimation.current;}else if((lastValue===null||lastValue===void 0?void 0:lastValue.current)!==undefined){value=lastValue.current;}}}else{value=lastValue;}}animation.callStart=function(timestamp){animation.onStart(animation,value,timestamp,lastAnimation);};animation.callStart(getTimestamp());animation.callStart=null;}else if(typeof animatedProp==='object'){Object.keys(animatedProp).forEach(function(key){return prepareAnimation(animatedProp[key],lastAnimation&&lastAnimation[key],lastValue&&lastValue[key]);});}}}\";\n  _f.__workletHash = 1333702046144;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (11:0)\";\n  return _f;\n}();\n\nconst runAnimations = function () {\n  const _f = function (animation, timestamp, key, result, animationsActive) {\n    if (!animationsActive.value) {\n      return true;\n    }\n\n    if (Array.isArray(animation)) {\n      result[key] = [];\n      let allFinished = true;\n      animation.forEach((entry, index) => {\n        if (!runAnimations(entry, timestamp, index, result[key], animationsActive)) {\n          allFinished = false;\n        }\n      });\n      return allFinished;\n    } else if (typeof animation === 'object' && animation.onFrame) {\n      let finished = true;\n\n      if (!animation.finished) {\n        if (animation.callStart) {\n          animation.callStart(timestamp);\n          animation.callStart = null;\n        }\n\n        finished = animation.onFrame(animation, timestamp);\n        animation.timestamp = timestamp;\n\n        if (finished) {\n          animation.finished = true;\n          animation.callback && animation.callback(true\n          /* finished */\n          );\n        }\n      }\n\n      result[key] = animation.current;\n      return finished;\n    } else if (typeof animation === 'object') {\n      result[key] = {};\n      let allFinished = true;\n      Object.keys(animation).forEach(k => {\n        if (!runAnimations(animation[k], timestamp, k, result[key], animationsActive)) {\n          allFinished = false;\n        }\n      });\n      return allFinished;\n    } else {\n      result[key] = animation;\n      return true;\n    }\n  };\n\n  _f._closure = {};\n  _f.asString = \"function runAnimations(animation,timestamp,key,result,animationsActive){if(!animationsActive.value){return true;}if(Array.isArray(animation)){result[key]=[];let allFinished=true;animation.forEach(function(entry,index){if(!runAnimations(entry,timestamp,index,result[key],animationsActive)){allFinished=false;}});return allFinished;}else if(typeof animation==='object'&&animation.onFrame){let finished=true;if(!animation.finished){if(animation.callStart){animation.callStart(timestamp);animation.callStart=null;}finished=animation.onFrame(animation,timestamp);animation.timestamp=timestamp;if(finished){animation.finished=true;animation.callback&&animation.callback(true);}}result[key]=animation.current;return finished;}else if(typeof animation==='object'){result[key]={};let allFinished=true;Object.keys(animation).forEach(function(k){if(!runAnimations(animation[k],timestamp,k,result[key],animationsActive)){allFinished=false;}});return allFinished;}else{result[key]=animation;return true;}}\";\n  _f.__workletHash = 3625332641327;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (53:0)\";\n  return _f;\n}();\n\nconst styleUpdater = function () {\n  const _f = function (viewDescriptors, updater, state, maybeViewRef, animationsActive) {\n    var _a, _b;\n\n    const animations = (_a = state.animations) !== null && _a !== void 0 ? _a : {};\n    const newValues = (_b = updater()) !== null && _b !== void 0 ? _b : {};\n    const oldValues = state.last;\n    let hasAnimations = false;\n\n    for (const key in newValues) {\n      const value = newValues[key];\n\n      if (isAnimated(value)) {\n        prepareAnimation(value, animations[key], oldValues[key]);\n        animations[key] = value;\n        hasAnimations = true;\n      } else {\n        delete animations[key];\n      }\n    }\n\n    if (hasAnimations) {\n      const frame = timestamp => {\n        const {\n          animations,\n          last,\n          isAnimationCancelled\n        } = state;\n\n        if (isAnimationCancelled) {\n          state.isAnimationRunning = false;\n          return;\n        }\n\n        const updates = {};\n        let allFinished = true;\n\n        for (const propName in animations) {\n          const finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);\n\n          if (finished) {\n            last[propName] = updates[propName];\n            delete animations[propName];\n          } else {\n            allFinished = false;\n          }\n        }\n\n        if (updates) {\n          updateProps(viewDescriptors, updates, maybeViewRef);\n        }\n\n        if (!allFinished) {\n          requestFrame(frame);\n        } else {\n          state.isAnimationRunning = false;\n        }\n      };\n\n      state.animations = animations;\n\n      if (!state.isAnimationRunning) {\n        state.isAnimationCancelled = false;\n        state.isAnimationRunning = true;\n\n        if (_frameTimestamp) {\n          frame(_frameTimestamp);\n        } else {\n          requestFrame(frame);\n        }\n      }\n\n      state.last = Object.assign({}, oldValues, newValues);\n      const style = getStyleWithoutAnimations(state.last);\n\n      if (style) {\n        updateProps(viewDescriptors, style, maybeViewRef);\n      }\n    } else {\n      state.isAnimationCancelled = true;\n      state.animations = [];\n      const diff = styleDiff(oldValues, newValues);\n      state.last = Object.assign({}, oldValues, newValues);\n\n      if (diff) {\n        updateProps(viewDescriptors, newValues, maybeViewRef);\n      }\n    }\n  };\n\n  _f._closure = {\n    isAnimated,\n    prepareAnimation,\n    runAnimations,\n    updateProps,\n    requestFrame,\n    getStyleWithoutAnimations,\n    styleDiff\n  };\n  _f.asString = \"function styleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive){const{isAnimated,prepareAnimation,runAnimations,updateProps,requestFrame,getStyleWithoutAnimations,styleDiff}=jsThis._closure;{var _a,_b;const animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};const newValues=(_b=updater())!==null&&_b!==void 0?_b:{};const oldValues=state.last;let hasAnimations=false;for(const key in newValues){const value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}else{delete animations[key];}}if(hasAnimations){const frame=function(timestamp){const{animations:animations,last:last,isAnimationCancelled:isAnimationCancelled}=state;if(isAnimationCancelled){state.isAnimationRunning=false;return;}const updates={};let allFinished=true;for(const propName in animations){const finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}}if(updates){updateProps(viewDescriptors,updates,maybeViewRef);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}};state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}state.last=Object.assign({},oldValues,newValues);const style=getStyleWithoutAnimations(state.last);if(style){updateProps(viewDescriptors,style,maybeViewRef);}}else{state.isAnimationCancelled=true;state.animations=[];const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(diff){updateProps(viewDescriptors,newValues,maybeViewRef);}}}}\";\n  _f.__workletHash = 13069955727964;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (100:0)\";\n  return _f;\n}();\n\nconst jestStyleUpdater = function () {\n  const _f = function (viewDescriptors, updater, state, maybeViewRef, animationsActive, animatedStyle, adapters = []) {\n    var _a, _b;\n\n    const animations = (_a = state.animations) !== null && _a !== void 0 ? _a : {};\n    const newValues = (_b = updater()) !== null && _b !== void 0 ? _b : {};\n    const oldValues = state.last; // extract animated props\n\n    // extract animated props\n    let hasAnimations = false;\n    Object.keys(animations).forEach(key => {\n      const value = newValues[key];\n\n      if (!isAnimated(value)) {\n        delete animations[key];\n      }\n    });\n    Object.keys(newValues).forEach(key => {\n      const value = newValues[key];\n\n      if (isAnimated(value)) {\n        prepareAnimation(value, animations[key], oldValues[key]);\n        animations[key] = value;\n        hasAnimations = true;\n      }\n    });\n\n    function frame(timestamp) {\n      const {\n        animations,\n        last,\n        isAnimationCancelled\n      } = state;\n\n      if (isAnimationCancelled) {\n        state.isAnimationRunning = false;\n        return;\n      }\n\n      const updates = {};\n      let allFinished = true;\n      Object.keys(animations).forEach(propName => {\n        const finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);\n\n        if (finished) {\n          last[propName] = updates[propName];\n          delete animations[propName];\n        } else {\n          allFinished = false;\n        }\n      });\n\n      if (Object.keys(updates).length) {\n        updatePropsJestWrapper(viewDescriptors, updates, maybeViewRef, animatedStyle, adapters);\n      }\n\n      if (!allFinished) {\n        requestFrame(frame);\n      } else {\n        state.isAnimationRunning = false;\n      }\n    }\n\n    if (hasAnimations) {\n      state.animations = animations;\n\n      if (!state.isAnimationRunning) {\n        state.isAnimationCancelled = false;\n        state.isAnimationRunning = true;\n\n        if (_frameTimestamp) {\n          frame(_frameTimestamp);\n        } else {\n          requestFrame(frame);\n        }\n      }\n    } else {\n      state.isAnimationCancelled = true;\n      state.animations = [];\n    } // calculate diff\n\n\n    // calculate diff\n    const diff = styleDiff(oldValues, newValues);\n    state.last = Object.assign({}, oldValues, newValues);\n\n    if (Object.keys(diff).length !== 0) {\n      updatePropsJestWrapper(viewDescriptors, diff, maybeViewRef, animatedStyle, adapters);\n    }\n  };\n\n  _f._closure = {\n    isAnimated,\n    prepareAnimation,\n    runAnimations,\n    updatePropsJestWrapper,\n    requestFrame,\n    styleDiff\n  };\n  _f.asString = \"function jestStyleUpdater(viewDescriptors,updater,state,maybeViewRef,animationsActive,animatedStyle,adapters=[]){const{isAnimated,prepareAnimation,runAnimations,updatePropsJestWrapper,requestFrame,styleDiff}=jsThis._closure;{var _a,_b;const animations=(_a=state.animations)!==null&&_a!==void 0?_a:{};const newValues=(_b=updater())!==null&&_b!==void 0?_b:{};const oldValues=state.last;let hasAnimations=false;Object.keys(animations).forEach(function(key){const value=newValues[key];if(!isAnimated(value)){delete animations[key];}});Object.keys(newValues).forEach(function(key){const value=newValues[key];if(isAnimated(value)){prepareAnimation(value,animations[key],oldValues[key]);animations[key]=value;hasAnimations=true;}});function frame(timestamp){const{animations:animations,last:last,isAnimationCancelled:isAnimationCancelled}=state;if(isAnimationCancelled){state.isAnimationRunning=false;return;}const updates={};let allFinished=true;Object.keys(animations).forEach(function(propName){const finished=runAnimations(animations[propName],timestamp,propName,updates,animationsActive);if(finished){last[propName]=updates[propName];delete animations[propName];}else{allFinished=false;}});if(Object.keys(updates).length){updatePropsJestWrapper(viewDescriptors,updates,maybeViewRef,animatedStyle,adapters);}if(!allFinished){requestFrame(frame);}else{state.isAnimationRunning=false;}}if(hasAnimations){state.animations=animations;if(!state.isAnimationRunning){state.isAnimationCancelled=false;state.isAnimationRunning=true;if(_frameTimestamp){frame(_frameTimestamp);}else{requestFrame(frame);}}}else{state.isAnimationCancelled=true;state.animations=[];}const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(Object.keys(diff).length!==0){updatePropsJestWrapper(viewDescriptors,diff,maybeViewRef,animatedStyle,adapters);}}}\";\n  _f.__workletHash = 13781832065631;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (174:0)\";\n  return _f;\n}(); // check for invalid usage of shared values in returned object\n\n\nfunction checkSharedValueUsage(prop, currentKey) {\n  if (Array.isArray(prop)) {\n    // if it's an array (i.ex. transform) validate all its elements\n    for (const element of prop) {\n      checkSharedValueUsage(element, currentKey);\n    }\n  } else if (typeof prop === 'object' && prop.value === undefined) {\n    // if it's a nested object, run validation for all its props\n    for (const key of Object.keys(prop)) {\n      checkSharedValueUsage(prop[key], key);\n    }\n  } else if (currentKey !== undefined && typeof prop === 'object' && prop.value !== undefined) {\n    // if shared value is passed insted of its value, throw an error\n    throw new Error(`invalid value passed to \\`${currentKey}\\`, maybe you forgot to use \\`.value\\`?`);\n  }\n}\n\nexport function useAnimatedStyle(updater, dependencies, adapters) {\n  var _a, _b;\n\n  const viewsRef = makeViewsRefSet();\n  const viewDescriptors = makeViewDescriptorsSet();\n  const initRef = useRef();\n  const inputs = Object.values((_a = updater._closure) !== null && _a !== void 0 ? _a : {});\n  const adaptersArray = adapters ? Array.isArray(adapters) ? adapters : [adapters] : [];\n  const adaptersHash = adapters ? buildWorkletsHash(adaptersArray) : null;\n  const animationsActive = useSharedValue(true);\n  const animatedStyle = useRef({}); // build dependencies\n\n  if (!dependencies) {\n    dependencies = [...inputs, updater.__workletHash];\n  } else {\n    dependencies.push(updater.__workletHash);\n  }\n\n  adaptersHash && dependencies.push(adaptersHash);\n\n  if (!initRef.current) {\n    const initialStyle = initialUpdaterRun(updater);\n    validateAnimatedStyles(initialStyle);\n    initRef.current = {\n      initial: {\n        value: initialStyle,\n        updater: updater\n      },\n      remoteState: makeRemote({\n        last: initialStyle\n      }),\n      sharableViewDescriptors: makeMutable([])\n    };\n    viewDescriptors.rebuildsharableViewDescriptors( // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    initRef.current.sharableViewDescriptors);\n  }\n\n  dependencies.push((_b = initRef.current) === null || _b === void 0 ? void 0 : _b.sharableViewDescriptors.value); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const {\n    initial,\n    remoteState,\n    sharableViewDescriptors\n  } = initRef.current;\n  const maybeViewRef = NativeReanimatedModule.native ? undefined : viewsRef;\n  useEffect(() => {\n    let fun;\n    let updaterFn = updater;\n    let optimalization = updater.__optimalization;\n\n    if (adapters) {\n      updaterFn = function () {\n        const _f = function () {\n          const newValues = updater();\n          adaptersArray.forEach(adapter => {\n            adapter(newValues);\n          });\n          return newValues;\n        };\n\n        _f._closure = {\n          updater,\n          adaptersArray\n        };\n        _f.asString = \"function _f(){const{updater,adaptersArray}=jsThis._closure;{const newValues=updater();adaptersArray.forEach(function(adapter){adapter(newValues);});return newValues;}}\";\n        _f.__workletHash = 15812374835043;\n        _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (315:24)\";\n        return _f;\n      }();\n    }\n\n    if (canApplyOptimalisation(updaterFn) && !shouldBeUseWeb()) {\n      if (hasColorProps(updaterFn())) {\n        updaterFn = function () {\n          const _f = function () {\n            const newValues = updaterFn();\n            const oldValues = remoteState.last;\n            const diff = styleDiff(oldValues, newValues);\n            remoteState.last = Object.assign({}, oldValues, newValues);\n            parseColors(diff);\n            return diff;\n          };\n\n          _f._closure = {\n            updaterFn,\n            remoteState,\n            styleDiff,\n            parseColors\n          };\n          _f.asString = \"function _f(){const{updaterFn,remoteState,styleDiff,parseColors}=jsThis._closure;{const newValues=updaterFn();const oldValues=remoteState.last;const diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);parseColors(diff);return diff;}}\";\n          _f.__workletHash = 5178118372497;\n          _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (326:28)\";\n          return _f;\n        }();\n      } else {\n        updaterFn = function () {\n          const _f = function () {\n            const newValues = updaterFn();\n            const oldValues = remoteState.last;\n            const diff = styleDiff(oldValues, newValues);\n            remoteState.last = Object.assign({}, oldValues, newValues);\n            return diff;\n          };\n\n          _f._closure = {\n            updaterFn,\n            remoteState,\n            styleDiff\n          };\n          _f.asString = \"function _f(){const{updaterFn,remoteState,styleDiff}=jsThis._closure;{const newValues=updaterFn();const oldValues=remoteState.last;const diff=styleDiff(oldValues,newValues);remoteState.last=Object.assign({},oldValues,newValues);return diff;}}\";\n          _f.__workletHash = 5024825431498;\n          _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (337:28)\";\n          return _f;\n        }();\n      }\n    } else if (!shouldBeUseWeb()) {\n      optimalization = 0;\n\n      updaterFn = function () {\n        const _f = function () {\n          const style = updaterFn();\n          parseColors(style);\n          return style;\n        };\n\n        _f._closure = {\n          updaterFn,\n          parseColors\n        };\n        _f.asString = \"function _f(){const{updaterFn,parseColors}=jsThis._closure;{const style=updaterFn();parseColors(style);return style;}}\";\n        _f.__workletHash = 14518071140053;\n        _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (349:24)\";\n        return _f;\n      }();\n    }\n\n    if (typeof updater.__optimalization !== undefined) {\n      updaterFn.__optimalization = optimalization;\n    }\n\n    if (isJest()) {\n      fun = function () {\n        const _f = function () {\n          jestStyleUpdater(sharableViewDescriptors, updater, remoteState, maybeViewRef, animationsActive, animatedStyle, adaptersArray);\n        };\n\n        _f._closure = {\n          jestStyleUpdater,\n          sharableViewDescriptors,\n          updater,\n          remoteState,\n          maybeViewRef,\n          animationsActive,\n          animatedStyle,\n          adaptersArray\n        };\n        _f.asString = \"function _f(){const{jestStyleUpdater,sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray}=jsThis._closure;{jestStyleUpdater(sharableViewDescriptors,updater,remoteState,maybeViewRef,animationsActive,animatedStyle,adaptersArray);}}\";\n        _f.__workletHash = 11302607948209;\n        _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (360:18)\";\n        return _f;\n      }();\n    } else {\n      fun = function () {\n        const _f = function () {\n          styleUpdater(sharableViewDescriptors, updaterFn, remoteState, maybeViewRef, animationsActive);\n        };\n\n        _f._closure = {\n          styleUpdater,\n          sharableViewDescriptors,\n          updaterFn,\n          remoteState,\n          maybeViewRef,\n          animationsActive\n        };\n        _f.asString = \"function _f(){const{styleUpdater,sharableViewDescriptors,updaterFn,remoteState,maybeViewRef,animationsActive}=jsThis._closure;{styleUpdater(sharableViewDescriptors,updaterFn,remoteState,maybeViewRef,animationsActive);}}\";\n        _f.__workletHash = 15042733015377;\n        _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedStyle.js (366:18)\";\n        return _f;\n      }();\n    }\n\n    const mapperId = startMapper(fun, inputs, [], updaterFn, // TODO fix this\n    sharableViewDescriptors);\n    return () => {\n      stopMapper(mapperId);\n    };\n  }, dependencies);\n  useEffect(() => {\n    animationsActive.value = true;\n    return () => {\n      // initRef.current = null;\n      // viewsRef = null;\n      animationsActive.value = false;\n    };\n  }, []);\n  checkSharedValueUsage(initial.value);\n\n  if (process.env.JEST_WORKER_ID) {\n    return {\n      viewDescriptors,\n      initial: initial,\n      viewsRef,\n      animatedStyle\n    };\n  } else {\n    return {\n      viewDescriptors,\n      initial: initial,\n      viewsRef\n    };\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}