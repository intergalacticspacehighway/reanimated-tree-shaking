{"ast":null,"code":"function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import{useRef}from'react';import{makeMutable}from'./core';import{shouldBeUseWeb}from'./PlatformChecker';var scheduleUpdates=shouldBeUseWeb()?requestAnimationFrame:setImmediate;export function makeViewDescriptorsSet(){var ref=useRef(null);if(ref.current===null){var data={batchToRemove:new Set(),tags:new Set(),waitForInsertSync:false,waitForRemoveSync:false,sharableViewDescriptors:makeMutable([]),items:[],add:function add(item){if(data.tags.has(item.tag)){return;}data.tags.add(item.tag);data.items.push(item);if(!data.waitForInsertSync){data.waitForInsertSync=true;scheduleUpdates(function(){data.sharableViewDescriptors.value=data.items;data.waitForInsertSync=false;});}},remove:function remove(viewTag){data.batchToRemove.add(viewTag);if(!data.waitForRemoveSync){data.waitForRemoveSync=true;scheduleUpdates(function(){var items=[];var _iterator=_createForOfIteratorHelper(data.items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(data.batchToRemove.has(item.tag)){data.tags[\"delete\"](item.tag);}else{items.push(item);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}data.items=items;data.sharableViewDescriptors.value=items;data.batchToRemove=new Set();data.waitForRemoveSync=false;});}},rebuildsharableViewDescriptors:function rebuildsharableViewDescriptors(sharableViewDescriptors){data.sharableViewDescriptors=sharableViewDescriptors;}};ref.current=data;}return ref.current;}export function makeViewsRefSet(){var ref=useRef(null);if(ref.current===null){var data={items:new Set(),add:function add(item){if(data.items.has(item))return;data.items.add(item);},remove:function remove(item){data.items[\"delete\"](item);}};ref.current=data;}return ref.current;}","map":{"version":3,"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","useRef","makeMutable","shouldBeUseWeb","scheduleUpdates","requestAnimationFrame","setImmediate","makeViewDescriptorsSet","ref","current","data","batchToRemove","Set","tags","waitForInsertSync","waitForRemoveSync","sharableViewDescriptors","items","add","item","has","tag","push","remove","viewTag","_iterator","_step","rebuildsharableViewDescriptors","makeViewsRefSet"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/ViewDescriptorsSet.js"],"sourcesContent":["function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useRef } from 'react';\nimport { makeMutable } from './core';\nimport { shouldBeUseWeb } from './PlatformChecker';\nvar scheduleUpdates = shouldBeUseWeb() ? requestAnimationFrame : setImmediate;\nexport function makeViewDescriptorsSet() {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    var data = {\n      batchToRemove: new Set(),\n      tags: new Set(),\n      waitForInsertSync: false,\n      waitForRemoveSync: false,\n      sharableViewDescriptors: makeMutable([]),\n      items: [],\n      add: function add(item) {\n        if (data.tags.has(item.tag)) {\n          return;\n        }\n\n        data.tags.add(item.tag);\n        data.items.push(item);\n\n        if (!data.waitForInsertSync) {\n          data.waitForInsertSync = true;\n          scheduleUpdates(function () {\n            data.sharableViewDescriptors.value = data.items;\n            data.waitForInsertSync = false;\n          });\n        }\n      },\n      remove: function remove(viewTag) {\n        data.batchToRemove.add(viewTag);\n\n        if (!data.waitForRemoveSync) {\n          data.waitForRemoveSync = true;\n          scheduleUpdates(function () {\n            var items = [];\n\n            var _iterator = _createForOfIteratorHelper(data.items),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var item = _step.value;\n\n                if (data.batchToRemove.has(item.tag)) {\n                  data.tags[\"delete\"](item.tag);\n                } else {\n                  items.push(item);\n                }\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n\n            data.items = items;\n            data.sharableViewDescriptors.value = items;\n            data.batchToRemove = new Set();\n            data.waitForRemoveSync = false;\n          });\n        }\n      },\n      rebuildsharableViewDescriptors: function rebuildsharableViewDescriptors(sharableViewDescriptors) {\n        data.sharableViewDescriptors = sharableViewDescriptors;\n      }\n    };\n    ref.current = data;\n  }\n\n  return ref.current;\n}\nexport function makeViewsRefSet() {\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    var data = {\n      items: new Set(),\n      add: function add(item) {\n        if (data.items.has(item)) return;\n        data.items.add(item);\n      },\n      remove: function remove(item) {\n        data.items[\"delete\"](item);\n      }\n    };\n    ref.current = data;\n  }\n\n  return ref.current;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}