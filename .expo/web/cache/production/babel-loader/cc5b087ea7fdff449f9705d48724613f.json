{"ast":null,"code":"import{cond,sub,pow,divide,multiply,add,block,set,lessThan,proc,abs}from'../base';var VELOCITY_EPS=5;function decay(clock,state,config){var lastTime=cond(state.time,state.time,clock);var deltaTime=sub(clock,lastTime);// v0 = v / 1000\n// v = v0 * powf(deceleration, dt);\n// v = v * 1000;\n// x0 = x;\n// x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\nvar kv=pow(config.deceleration,deltaTime);var kx=divide(multiply(config.deceleration,sub(1,kv)),sub(1,config.deceleration));var v0=divide(state.velocity,1000);var v=multiply(v0,kv,1000);var x=add(state.position,multiply(v0,kx));return block([set(state.position,x),set(state.velocity,v),set(state.time,clock),cond(lessThan(abs(v),VELOCITY_EPS),set(state.finished,1))]);}var procDecay=proc(function(clock,time,velocity,position,finished,deceleration){return decay(clock,{time:time,velocity:velocity,position:position,finished:finished},{deceleration:deceleration});});export default function decayAnimation(clock,_ref,_ref2){var time=_ref.time,velocity=_ref.velocity,position=_ref.position,finished=_ref.finished;var deceleration=_ref2.deceleration;return procDecay(clock,time,velocity,position,finished,deceleration);}","map":{"version":3,"names":["cond","sub","pow","divide","multiply","add","block","set","lessThan","proc","abs","VELOCITY_EPS","decay","clock","state","config","lastTime","time","deltaTime","kv","deceleration","kx","v0","velocity","v","x","position","finished","procDecay","decayAnimation","_ref","_ref2"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/animations/decay.js"],"sourcesContent":["import { cond, sub, pow, divide, multiply, add, block, set, lessThan, proc, abs } from '../base';\nvar VELOCITY_EPS = 5;\n\nfunction decay(clock, state, config) {\n  var lastTime = cond(state.time, state.time, clock);\n  var deltaTime = sub(clock, lastTime); // v0 = v / 1000\n  // v = v0 * powf(deceleration, dt);\n  // v = v * 1000;\n  // x0 = x;\n  // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\n\n  var kv = pow(config.deceleration, deltaTime);\n  var kx = divide(multiply(config.deceleration, sub(1, kv)), sub(1, config.deceleration));\n  var v0 = divide(state.velocity, 1000);\n  var v = multiply(v0, kv, 1000);\n  var x = add(state.position, multiply(v0, kx));\n  return block([set(state.position, x), set(state.velocity, v), set(state.time, clock), cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1))]);\n}\n\nvar procDecay = proc(function (clock, time, velocity, position, finished, deceleration) {\n  return decay(clock, {\n    time: time,\n    velocity: velocity,\n    position: position,\n    finished: finished\n  }, {\n    deceleration: deceleration\n  });\n});\nexport default function decayAnimation(clock, _ref, _ref2) {\n  var time = _ref.time,\n      velocity = _ref.velocity,\n      position = _ref.position,\n      finished = _ref.finished;\n  var deceleration = _ref2.deceleration;\n  return procDecay(clock, time, velocity, position, finished, deceleration);\n}"],"mappings":"AAAA,OAASA,IAAT,CAAeC,GAAf,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,QAAjC,CAA2CC,GAA3C,CAAgDC,KAAhD,CAAuDC,GAAvD,CAA4DC,QAA5D,CAAsEC,IAAtE,CAA4EC,GAA5E,KAAuF,SAAvF,CACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsBC,KAAtB,CAA6BC,MAA7B,CAAqC,CACnC,GAAIC,CAAAA,QAAQ,CAAGhB,IAAI,CAACc,KAAK,CAACG,IAAP,CAAaH,KAAK,CAACG,IAAnB,CAAyBJ,KAAzB,CAAnB,CACA,GAAIK,CAAAA,SAAS,CAAGjB,GAAG,CAACY,KAAD,CAAQG,QAAR,CAAnB,CAAsC;AACtC;AACA;AACA;AACA;AAEA,GAAIG,CAAAA,EAAE,CAAGjB,GAAG,CAACa,MAAM,CAACK,YAAR,CAAsBF,SAAtB,CAAZ,CACA,GAAIG,CAAAA,EAAE,CAAGlB,MAAM,CAACC,QAAQ,CAACW,MAAM,CAACK,YAAR,CAAsBnB,GAAG,CAAC,CAAD,CAAIkB,EAAJ,CAAzB,CAAT,CAA4ClB,GAAG,CAAC,CAAD,CAAIc,MAAM,CAACK,YAAX,CAA/C,CAAf,CACA,GAAIE,CAAAA,EAAE,CAAGnB,MAAM,CAACW,KAAK,CAACS,QAAP,CAAiB,IAAjB,CAAf,CACA,GAAIC,CAAAA,CAAC,CAAGpB,QAAQ,CAACkB,EAAD,CAAKH,EAAL,CAAS,IAAT,CAAhB,CACA,GAAIM,CAAAA,CAAC,CAAGpB,GAAG,CAACS,KAAK,CAACY,QAAP,CAAiBtB,QAAQ,CAACkB,EAAD,CAAKD,EAAL,CAAzB,CAAX,CACA,MAAOf,CAAAA,KAAK,CAAC,CAACC,GAAG,CAACO,KAAK,CAACY,QAAP,CAAiBD,CAAjB,CAAJ,CAAyBlB,GAAG,CAACO,KAAK,CAACS,QAAP,CAAiBC,CAAjB,CAA5B,CAAiDjB,GAAG,CAACO,KAAK,CAACG,IAAP,CAAaJ,KAAb,CAApD,CAAyEb,IAAI,CAACQ,QAAQ,CAACE,GAAG,CAACc,CAAD,CAAJ,CAASb,YAAT,CAAT,CAAiCJ,GAAG,CAACO,KAAK,CAACa,QAAP,CAAiB,CAAjB,CAApC,CAA7E,CAAD,CAAZ,CACD,CAED,GAAIC,CAAAA,SAAS,CAAGnB,IAAI,CAAC,SAAUI,KAAV,CAAiBI,IAAjB,CAAuBM,QAAvB,CAAiCG,QAAjC,CAA2CC,QAA3C,CAAqDP,YAArD,CAAmE,CACtF,MAAOR,CAAAA,KAAK,CAACC,KAAD,CAAQ,CAClBI,IAAI,CAAEA,IADY,CAElBM,QAAQ,CAAEA,QAFQ,CAGlBG,QAAQ,CAAEA,QAHQ,CAIlBC,QAAQ,CAAEA,QAJQ,CAAR,CAKT,CACDP,YAAY,CAAEA,YADb,CALS,CAAZ,CAQD,CATmB,CAApB,CAUA,cAAe,SAASS,CAAAA,cAAT,CAAwBhB,KAAxB,CAA+BiB,IAA/B,CAAqCC,KAArC,CAA4C,CACzD,GAAId,CAAAA,IAAI,CAAGa,IAAI,CAACb,IAAhB,CACIM,QAAQ,CAAGO,IAAI,CAACP,QADpB,CAEIG,QAAQ,CAAGI,IAAI,CAACJ,QAFpB,CAGIC,QAAQ,CAAGG,IAAI,CAACH,QAHpB,CAIA,GAAIP,CAAAA,YAAY,CAAGW,KAAK,CAACX,YAAzB,CACA,MAAOQ,CAAAA,SAAS,CAACf,KAAD,CAAQI,IAAR,CAAcM,QAAd,CAAwBG,QAAxB,CAAkCC,QAAlC,CAA4CP,YAA5C,CAAhB,CACD"},"metadata":{},"sourceType":"module"}