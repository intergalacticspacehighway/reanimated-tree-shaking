{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/assertThisInitialized\";import _get from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";import _inherits from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";import _defineProperty from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import invariant from'invariant';import ReanimatedEventEmitter from'../../ReanimatedEventEmitter';import{val}from'../val';import AnimatedNode from'./AnimatedNode';var NODE_MAPPING=new Map();function listener(data){var node=NODE_MAPPING.get(data.id);node&&node._callback(data.args);}var AnimatedCall=/*#__PURE__*/function(_AnimatedNode){_inherits(AnimatedCall,_AnimatedNode);var _super=_createSuper(AnimatedCall);function AnimatedCall(args,jsFunction){var _this;_classCallCheck(this,AnimatedCall);invariant(args.every(function(el){return el instanceof AnimatedNode;}),\"Reanimated: Animated.call node args should be an array with elements of type AnimatedNode. One or more of them are not AnimatedNodes\");_this=_super.call(this,{type:'call',input:args},args);_defineProperty(_assertThisInitialized(_this),\"_callback\",void 0);_defineProperty(_assertThisInitialized(_this),\"_args\",void 0);_this._callback=jsFunction;_this._args=args;return _this;}_createClass(AnimatedCall,[{key:\"toString\",value:function toString(){return\"AnimatedCall, id: \".concat(this.__nodeID);}},{key:\"__attach\",value:function __attach(){_get(_getPrototypeOf(AnimatedCall.prototype),\"__attach\",this).call(this);NODE_MAPPING.set(this.__nodeID,this);if(NODE_MAPPING.size===1){ReanimatedEventEmitter.addListener('onReanimatedCall',listener);}}},{key:\"__detach\",value:function __detach(){NODE_MAPPING[\"delete\"](this.__nodeID);if(NODE_MAPPING.size===0){ReanimatedEventEmitter.removeAllListeners('onReanimatedCall');}_get(_getPrototypeOf(AnimatedCall.prototype),\"__detach\",this).call(this);}},{key:\"__onEvaluate\",value:function __onEvaluate(){this._callback(this._args.map(val));return 0;}}]);return AnimatedCall;}(AnimatedNode);export function createAnimatedCall(args,func){return new AnimatedCall(args,func);}","map":{"version":3,"names":["_classCallCheck","_createClass","_assertThisInitialized","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","invariant","ReanimatedEventEmitter","val","AnimatedNode","NODE_MAPPING","Map","listener","data","node","get","id","_callback","args","AnimatedCall","_AnimatedNode","_super","jsFunction","_this","every","el","type","input","_args","key","value","toString","concat","__nodeID","__attach","set","size","addListener","__detach","removeAllListeners","__onEvaluate","map","createAnimatedCall","func"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedCall.js"],"sourcesContent":["import _classCallCheck from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport invariant from 'invariant';\nimport ReanimatedEventEmitter from '../../ReanimatedEventEmitter';\nimport { val } from '../val';\nimport AnimatedNode from './AnimatedNode';\nvar NODE_MAPPING = new Map();\n\nfunction listener(data) {\n  var node = NODE_MAPPING.get(data.id);\n  node && node._callback(data.args);\n}\n\nvar AnimatedCall = /*#__PURE__*/function (_AnimatedNode) {\n  _inherits(AnimatedCall, _AnimatedNode);\n\n  var _super = _createSuper(AnimatedCall);\n\n  function AnimatedCall(args, jsFunction) {\n    var _this;\n\n    _classCallCheck(this, AnimatedCall);\n\n    invariant(args.every(function (el) {\n      return el instanceof AnimatedNode;\n    }), \"Reanimated: Animated.call node args should be an array with elements of type AnimatedNode. One or more of them are not AnimatedNodes\");\n    _this = _super.call(this, {\n      type: 'call',\n      input: args\n    }, args);\n\n    _defineProperty(_assertThisInitialized(_this), \"_callback\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_args\", void 0);\n\n    _this._callback = jsFunction;\n    _this._args = args;\n    return _this;\n  }\n\n  _createClass(AnimatedCall, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"AnimatedCall, id: \".concat(this.__nodeID);\n    }\n  }, {\n    key: \"__attach\",\n    value: function __attach() {\n      _get(_getPrototypeOf(AnimatedCall.prototype), \"__attach\", this).call(this);\n\n      NODE_MAPPING.set(this.__nodeID, this);\n\n      if (NODE_MAPPING.size === 1) {\n        ReanimatedEventEmitter.addListener('onReanimatedCall', listener);\n      }\n    }\n  }, {\n    key: \"__detach\",\n    value: function __detach() {\n      NODE_MAPPING[\"delete\"](this.__nodeID);\n\n      if (NODE_MAPPING.size === 0) {\n        ReanimatedEventEmitter.removeAllListeners('onReanimatedCall');\n      }\n\n      _get(_getPrototypeOf(AnimatedCall.prototype), \"__detach\", this).call(this);\n    }\n  }, {\n    key: \"__onEvaluate\",\n    value: function __onEvaluate() {\n      this._callback(this._args.map(val));\n\n      return 0;\n    }\n  }]);\n\n  return AnimatedCall;\n}(AnimatedNode);\n\nexport function createAnimatedCall(args, func) {\n  return new AnimatedCall(args, func);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}