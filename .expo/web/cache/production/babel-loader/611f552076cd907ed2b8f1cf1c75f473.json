{"ast":null,"code":"import{defineAnimation}from'./util';import Platform from\"react-native-web/dist/cjs/exports/Platform\";export var withDecay=function(){var _f=function _f(userConfig,callback){return defineAnimation(0,function(){var _f=function _f(){var _a;var config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}var VELOCITY_EPS=Platform.OS!=='web'?1:1/20;var SLOPE_FACTOR=0.1;function decay(animation,now){var lastTimestamp=animation.lastTimestamp,startTimestamp=animation.startTimestamp,initialVelocity=animation.initialVelocity,current=animation.current,velocity=animation.velocity;var deltaTime=Math.min(now-lastTimestamp,64);var v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;// /1000 because time is in ms not in s\n// /1000 because time is in ms not in s\nanimation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \".concat(typeof config.clamp));}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \".concat(config.clamp.length));}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \".concat(config.velocityFactor));}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};};_f._closure={Platform:{OS:Platform.OS},userConfig:userConfig,callback:callback};_f.asString=\"function _f(){const{Platform,userConfig,callback}=jsThis._closure;{var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}\";_f.__workletHash=7058793376627;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (5:30)\";return _f;}());};_f._closure={defineAnimation:defineAnimation,Platform:{OS:Platform.OS}};_f.asString=\"function withDecay(userConfig,callback){const{defineAnimation,Platform}=jsThis._closure;{return defineAnimation(0,function(){'worklet';var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}\";_f.__workletHash=4039134172572;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (3:7)\";return _f;}();","map":{"version":3,"names":["defineAnimation","Platform","withDecay","_f","userConfig","callback","_a","config","deceleration","velocityFactor","OS","velocity","Object","keys","forEach","key","VELOCITY_EPS","SLOPE_FACTOR","decay","animation","now","lastTimestamp","startTimestamp","initialVelocity","current","deltaTime","Math","min","v","exp","clamp","abs","validateConfig","Array","isArray","Error","length","onStart","value","onFrame","_closure","asString","__workletHash","__location"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js"],"sourcesContent":["import { defineAnimation } from './util';\nimport Platform from \"react-native-web/dist/cjs/exports/Platform\";\nexport const withDecay = function () {\n  const _f = function (userConfig, callback) {\n    return defineAnimation(0, function () {\n      const _f = function () {\n        var _a;\n\n        const config = {\n          deceleration: 0.998,\n          velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n          velocity: 0\n        };\n\n        if (userConfig) {\n          Object.keys(userConfig).forEach(key => config[key] = userConfig[key]);\n        }\n\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n        const SLOPE_FACTOR = 0.1;\n\n        function decay(animation, now) {\n          const {\n            lastTimestamp,\n            startTimestamp,\n            initialVelocity,\n            current,\n            velocity\n          } = animation;\n          const deltaTime = Math.min(now - lastTimestamp, 64);\n          const v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n          animation.current = current + v * config.velocityFactor * deltaTime / 1000; // /1000 because time is in ms not in s\n\n          // /1000 because time is in ms not in s\n          animation.velocity = v;\n          animation.lastTimestamp = now;\n\n          if (config.clamp) {\n            if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n              animation.current = config.clamp[0];\n              return true;\n            } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {\n              animation.current = config.clamp[1];\n              return true;\n            }\n          }\n\n          return Math.abs(v) < VELOCITY_EPS;\n        }\n\n        function validateConfig() {\n          if (config.clamp) {\n            if (!Array.isArray(config.clamp)) {\n              throw Error(`config.clamp must be an array but is ${typeof config.clamp}`);\n            }\n\n            if (config.clamp.length !== 2) {\n              throw Error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\n            }\n          }\n\n          if (config.velocityFactor <= 0) {\n            throw Error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\n          }\n        }\n\n        function onStart(animation, value, now) {\n          animation.current = value;\n          animation.lastTimestamp = now;\n          animation.startTimestamp = now;\n          animation.initialVelocity = config.velocity;\n          validateConfig();\n        }\n\n        return {\n          onFrame: decay,\n          onStart,\n          callback,\n          velocity: (_a = config.velocity) !== null && _a !== void 0 ? _a : 0,\n          initialVelocity: 0,\n          current: 0,\n          lastTimestamp: 0,\n          startTimestamp: 0\n        };\n      };\n\n      _f._closure = {\n        Platform: {\n          OS: Platform.OS\n        },\n        userConfig,\n        callback\n      };\n      _f.asString = \"function _f(){const{Platform,userConfig,callback}=jsThis._closure;{var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}\";\n      _f.__workletHash = 7058793376627;\n      _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (5:30)\";\n      return _f;\n    }());\n  };\n\n  _f._closure = {\n    defineAnimation,\n    Platform: {\n      OS: Platform.OS\n    }\n  };\n  _f.asString = \"function withDecay(userConfig,callback){const{defineAnimation,Platform}=jsThis._closure;{return defineAnimation(0,function(){'worklet';var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}\";\n  _f.__workletHash = 4039134172572;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (3:7)\";\n  return _f;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module"}