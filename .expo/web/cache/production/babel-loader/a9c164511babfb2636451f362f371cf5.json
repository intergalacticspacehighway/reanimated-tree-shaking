{"ast":null,"code":"import{cond,sub,pow,divide,multiply,add,block,set,lessThan,proc,abs}from'../base';var VELOCITY_EPS=5;function decay(clock,state,config){var lastTime=cond(state.time,state.time,clock);var deltaTime=sub(clock,lastTime);// v0 = v / 1000\n// v = v0 * powf(deceleration, dt);\n// v = v * 1000;\n// x0 = x;\n// x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\nvar kv=pow(config.deceleration,deltaTime);var kx=divide(multiply(config.deceleration,sub(1,kv)),sub(1,config.deceleration));var v0=divide(state.velocity,1000);var v=multiply(v0,kv,1000);var x=add(state.position,multiply(v0,kx));return block([set(state.position,x),set(state.velocity,v),set(state.time,clock),cond(lessThan(abs(v),VELOCITY_EPS),set(state.finished,1))]);}var procDecay=proc(function(clock,time,velocity,position,finished,deceleration){return decay(clock,{time:time,velocity:velocity,position:position,finished:finished},{deceleration:deceleration});});export default function decayAnimation(clock,_ref,_ref2){var time=_ref.time,velocity=_ref.velocity,position=_ref.position,finished=_ref.finished;var deceleration=_ref2.deceleration;return procDecay(clock,time,velocity,position,finished,deceleration);}","map":{"version":3,"names":["cond","sub","pow","divide","multiply","add","block","set","lessThan","proc","abs","VELOCITY_EPS","decay","clock","state","config","lastTime","time","deltaTime","kv","deceleration","kx","v0","velocity","v","x","position","finished","procDecay","decayAnimation"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/animations/decay.js"],"sourcesContent":["import { cond, sub, pow, divide, multiply, add, block, set, lessThan, proc, abs } from '../base';\nconst VELOCITY_EPS = 5;\n\nfunction decay(clock, state, config) {\n  const lastTime = cond(state.time, state.time, clock);\n  const deltaTime = sub(clock, lastTime); // v0 = v / 1000\n  // v = v0 * powf(deceleration, dt);\n  // v = v * 1000;\n  // x0 = x;\n  // x = x0 + v0 * deceleration * (1 - powf(deceleration, dt)) / (1 - deceleration)\n\n  const kv = pow(config.deceleration, deltaTime);\n  const kx = divide(multiply(config.deceleration, sub(1, kv)), sub(1, config.deceleration));\n  const v0 = divide(state.velocity, 1000);\n  const v = multiply(v0, kv, 1000);\n  const x = add(state.position, multiply(v0, kx));\n  return block([set(state.position, x), set(state.velocity, v), set(state.time, clock), cond(lessThan(abs(v), VELOCITY_EPS), set(state.finished, 1))]);\n}\n\nconst procDecay = proc((clock, time, velocity, position, finished, deceleration) => decay(clock, {\n  time,\n  velocity,\n  position,\n  finished\n}, {\n  deceleration\n}));\nexport default function decayAnimation(clock, {\n  time,\n  velocity,\n  position,\n  finished\n}, {\n  deceleration\n}) {\n  return procDecay(clock, time, velocity, position, finished, deceleration);\n}"],"mappings":"AAAA,OAASA,IAAT,CAAeC,GAAf,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,QAAjC,CAA2CC,GAA3C,CAAgDC,KAAhD,CAAuDC,GAAvD,CAA4DC,QAA5D,CAAsEC,IAAtE,CAA4EC,GAA5E,KAAuF,SAAvF,CACA,GAAMC,CAAAA,YAAY,CAAG,CAArB,CAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsBC,KAAtB,CAA6BC,MAA7B,CAAqC,CACnC,GAAMC,CAAAA,QAAQ,CAAGhB,IAAI,CAACc,KAAK,CAACG,IAAP,CAAaH,KAAK,CAACG,IAAnB,CAAyBJ,KAAzB,CAArB,CACA,GAAMK,CAAAA,SAAS,CAAGjB,GAAG,CAACY,KAAD,CAAQG,QAAR,CAArB,CAAwC;AACxC;AACA;AACA;AACA;AAEA,GAAMG,CAAAA,EAAE,CAAGjB,GAAG,CAACa,MAAM,CAACK,YAAR,CAAsBF,SAAtB,CAAd,CACA,GAAMG,CAAAA,EAAE,CAAGlB,MAAM,CAACC,QAAQ,CAACW,MAAM,CAACK,YAAR,CAAsBnB,GAAG,CAAC,CAAD,CAAIkB,EAAJ,CAAzB,CAAT,CAA4ClB,GAAG,CAAC,CAAD,CAAIc,MAAM,CAACK,YAAX,CAA/C,CAAjB,CACA,GAAME,CAAAA,EAAE,CAAGnB,MAAM,CAACW,KAAK,CAACS,QAAP,CAAiB,IAAjB,CAAjB,CACA,GAAMC,CAAAA,CAAC,CAAGpB,QAAQ,CAACkB,EAAD,CAAKH,EAAL,CAAS,IAAT,CAAlB,CACA,GAAMM,CAAAA,CAAC,CAAGpB,GAAG,CAACS,KAAK,CAACY,QAAP,CAAiBtB,QAAQ,CAACkB,EAAD,CAAKD,EAAL,CAAzB,CAAb,CACA,MAAOf,CAAAA,KAAK,CAAC,CAACC,GAAG,CAACO,KAAK,CAACY,QAAP,CAAiBD,CAAjB,CAAJ,CAAyBlB,GAAG,CAACO,KAAK,CAACS,QAAP,CAAiBC,CAAjB,CAA5B,CAAiDjB,GAAG,CAACO,KAAK,CAACG,IAAP,CAAaJ,KAAb,CAApD,CAAyEb,IAAI,CAACQ,QAAQ,CAACE,GAAG,CAACc,CAAD,CAAJ,CAASb,YAAT,CAAT,CAAiCJ,GAAG,CAACO,KAAK,CAACa,QAAP,CAAiB,CAAjB,CAApC,CAA7E,CAAD,CAAZ,CACD,CAED,GAAMC,CAAAA,SAAS,CAAGnB,IAAI,CAAC,SAACI,KAAD,CAAQI,IAAR,CAAcM,QAAd,CAAwBG,QAAxB,CAAkCC,QAAlC,CAA4CP,YAA5C,QAA6DR,CAAAA,KAAK,CAACC,KAAD,CAAQ,CAC/FI,IAAI,CAAJA,IAD+F,CAE/FM,QAAQ,CAARA,QAF+F,CAG/FG,QAAQ,CAARA,QAH+F,CAI/FC,QAAQ,CAARA,QAJ+F,CAAR,CAKtF,CACDP,YAAY,CAAZA,YADC,CALsF,CAAlE,EAAD,CAAtB,CAQA,cAAe,SAASS,CAAAA,cAAT,CAAwBhB,KAAxB,YAOZ,IANDI,CAAAA,IAMC,MANDA,IAMC,CALDM,QAKC,MALDA,QAKC,CAJDG,QAIC,MAJDA,QAIC,CAHDC,QAGC,MAHDA,QAGC,IADDP,CAAAA,YACC,OADDA,YACC,CACD,MAAOQ,CAAAA,SAAS,CAACf,KAAD,CAAQI,IAAR,CAAcM,QAAd,CAAwBG,QAAxB,CAAkCC,QAAlC,CAA4CP,YAA5C,CAAhB,CACD"},"metadata":{},"sourceType":"module"}