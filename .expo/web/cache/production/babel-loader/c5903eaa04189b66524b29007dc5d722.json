{"ast":null,"code":"function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import{useRef}from'react';import{makeMutable}from'./core';import{shouldBeUseWeb}from'./PlatformChecker';var scheduleUpdates=shouldBeUseWeb()?requestAnimationFrame:setImmediate;export function makeViewDescriptorsSet(){var ref=useRef(null);if(ref.current===null){var data={batchToRemove:new Set(),tags:new Set(),waitForInsertSync:false,waitForRemoveSync:false,sharableViewDescriptors:makeMutable([]),items:[],add:function add(item){if(data.tags.has(item.tag)){return;}data.tags.add(item.tag);data.items.push(item);if(!data.waitForInsertSync){data.waitForInsertSync=true;scheduleUpdates(function(){data.sharableViewDescriptors.value=data.items;data.waitForInsertSync=false;});}},remove:function remove(viewTag){data.batchToRemove.add(viewTag);if(!data.waitForRemoveSync){data.waitForRemoveSync=true;scheduleUpdates(function(){var items=[];var _iterator=_createForOfIteratorHelper(data.items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(data.batchToRemove.has(item.tag)){data.tags[\"delete\"](item.tag);}else{items.push(item);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}data.items=items;data.sharableViewDescriptors.value=items;data.batchToRemove=new Set();data.waitForRemoveSync=false;});}},rebuildsharableViewDescriptors:function rebuildsharableViewDescriptors(sharableViewDescriptors){data.sharableViewDescriptors=sharableViewDescriptors;}};ref.current=data;}return ref.current;}export function makeViewsRefSet(){var ref=useRef(null);if(ref.current===null){var data={items:new Set(),add:function add(item){if(data.items.has(item))return;data.items.add(item);},remove:function remove(item){data.items[\"delete\"](item);}};ref.current=data;}return ref.current;}","map":{"version":3,"names":["useRef","makeMutable","shouldBeUseWeb","scheduleUpdates","requestAnimationFrame","setImmediate","makeViewDescriptorsSet","ref","current","data","batchToRemove","Set","tags","waitForInsertSync","waitForRemoveSync","sharableViewDescriptors","items","add","item","has","tag","push","value","remove","viewTag","rebuildsharableViewDescriptors","makeViewsRefSet"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/ViewDescriptorsSet.js"],"sourcesContent":["import { useRef } from 'react';\nimport { makeMutable } from './core';\nimport { shouldBeUseWeb } from './PlatformChecker';\nconst scheduleUpdates = shouldBeUseWeb() ? requestAnimationFrame : setImmediate;\nexport function makeViewDescriptorsSet() {\n  const ref = useRef(null);\n\n  if (ref.current === null) {\n    const data = {\n      batchToRemove: new Set(),\n      tags: new Set(),\n      waitForInsertSync: false,\n      waitForRemoveSync: false,\n      sharableViewDescriptors: makeMutable([]),\n      items: [],\n      add: item => {\n        if (data.tags.has(item.tag)) {\n          return;\n        }\n\n        data.tags.add(item.tag);\n        data.items.push(item);\n\n        if (!data.waitForInsertSync) {\n          data.waitForInsertSync = true;\n          scheduleUpdates(() => {\n            data.sharableViewDescriptors.value = data.items;\n            data.waitForInsertSync = false;\n          });\n        }\n      },\n      remove: viewTag => {\n        data.batchToRemove.add(viewTag);\n\n        if (!data.waitForRemoveSync) {\n          data.waitForRemoveSync = true;\n          scheduleUpdates(() => {\n            const items = [];\n\n            for (const item of data.items) {\n              if (data.batchToRemove.has(item.tag)) {\n                data.tags.delete(item.tag);\n              } else {\n                items.push(item);\n              }\n            }\n\n            data.items = items;\n            data.sharableViewDescriptors.value = items;\n            data.batchToRemove = new Set();\n            data.waitForRemoveSync = false;\n          });\n        }\n      },\n      rebuildsharableViewDescriptors: sharableViewDescriptors => {\n        data.sharableViewDescriptors = sharableViewDescriptors;\n      }\n    };\n    ref.current = data;\n  }\n\n  return ref.current;\n}\nexport function makeViewsRefSet() {\n  const ref = useRef(null);\n\n  if (ref.current === null) {\n    const data = {\n      items: new Set(),\n      add: item => {\n        if (data.items.has(item)) return;\n        data.items.add(item);\n      },\n      remove: item => {\n        data.items.delete(item);\n      }\n    };\n    ref.current = data;\n  }\n\n  return ref.current;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}