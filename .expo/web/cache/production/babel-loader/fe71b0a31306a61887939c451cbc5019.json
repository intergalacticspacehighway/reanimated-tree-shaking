{"ast":null,"code":"\"use strict\";exports.__esModule=true;exports[\"default\"]=useElementLayout;var _ExecutionEnvironment=require(\"fbjs/lib/ExecutionEnvironment\");var _useLayoutEffect=_interopRequireDefault(require(\"../useLayoutEffect\"));var _UIManager=_interopRequireDefault(require(\"../../exports/UIManager\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj};}/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */var DOM_LAYOUT_HANDLER_NAME='__reactLayoutHandler';var didWarn=!_ExecutionEnvironment.canUseDOM;var resizeObserver=null;function getResizeObserver(){if(_ExecutionEnvironment.canUseDOM&&typeof window.ResizeObserver!=='undefined'){if(resizeObserver==null){resizeObserver=new window.ResizeObserver(function(entries){entries.forEach(function(entry){var node=entry.target;var onLayout=node[DOM_LAYOUT_HANDLER_NAME];if(typeof onLayout==='function'){// We still need to measure the view because browsers don't yet provide\n// border-box dimensions in the entry\n_UIManager[\"default\"].measure(node,function(x,y,width,height,left,top){var event={// $FlowFixMe\nnativeEvent:{layout:{x:x,y:y,width:width,height:height,left:left,top:top}},timeStamp:Date.now()};Object.defineProperty(event.nativeEvent,'target',{enumerable:true,get:function get(){return entry.target;}});onLayout(event);});}});});}}else if(!didWarn){if(process.env.NODE_ENV!=='production'&&process.env.NODE_ENV!=='test'){console.warn('onLayout relies on ResizeObserver which is not supported by your browser. '+'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');didWarn=true;}}return resizeObserver;}function useElementLayout(ref,onLayout){var observer=getResizeObserver();(0,_useLayoutEffect[\"default\"])(function(){var node=ref.current;if(node!=null){node[DOM_LAYOUT_HANDLER_NAME]=onLayout;}},[ref,onLayout]);// Observing is done in a separate effect to avoid this effect running\n// when 'onLayout' changes.\n(0,_useLayoutEffect[\"default\"])(function(){var node=ref.current;if(node!=null&&observer!=null){if(typeof node[DOM_LAYOUT_HANDLER_NAME]==='function'){observer.observe(node);}else{observer.unobserve(node);}}return function(){if(node!=null&&observer!=null){observer.unobserve(node);}};},[ref,observer]);}module.exports=exports[\"default\"];","map":{"version":3,"names":["exports","__esModule","useElementLayout","_ExecutionEnvironment","require","_useLayoutEffect","_interopRequireDefault","_UIManager","obj","DOM_LAYOUT_HANDLER_NAME","didWarn","canUseDOM","resizeObserver","getResizeObserver","window","ResizeObserver","entries","forEach","entry","node","target","onLayout","measure","x","y","width","height","left","top","event","nativeEvent","layout","timeStamp","Date","now","Object","defineProperty","enumerable","get","process","env","NODE_ENV","console","warn","ref","observer","current","observe","unobserve","module"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-web/dist/cjs/modules/useElementLayout/index.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = useElementLayout;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _UIManager = _interopRequireDefault(require(\"../../exports/UIManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar DOM_LAYOUT_HANDLER_NAME = '__reactLayoutHandler';\nvar didWarn = !_ExecutionEnvironment.canUseDOM;\nvar resizeObserver = null;\n\nfunction getResizeObserver() {\n  if (_ExecutionEnvironment.canUseDOM && typeof window.ResizeObserver !== 'undefined') {\n    if (resizeObserver == null) {\n      resizeObserver = new window.ResizeObserver(function (entries) {\n        entries.forEach(function (entry) {\n          var node = entry.target;\n          var onLayout = node[DOM_LAYOUT_HANDLER_NAME];\n\n          if (typeof onLayout === 'function') {\n            // We still need to measure the view because browsers don't yet provide\n            // border-box dimensions in the entry\n            _UIManager.default.measure(node, function (x, y, width, height, left, top) {\n              var event = {\n                // $FlowFixMe\n                nativeEvent: {\n                  layout: {\n                    x: x,\n                    y: y,\n                    width: width,\n                    height: height,\n                    left: left,\n                    top: top\n                  }\n                },\n                timeStamp: Date.now()\n              };\n              Object.defineProperty(event.nativeEvent, 'target', {\n                enumerable: true,\n                get: function get() {\n                  return entry.target;\n                }\n              });\n              onLayout(event);\n            });\n          }\n        });\n      });\n    }\n  } else if (!didWarn) {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill.');\n      didWarn = true;\n    }\n  }\n\n  return resizeObserver;\n}\n\nfunction useElementLayout(ref, onLayout) {\n  var observer = getResizeObserver();\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null) {\n      node[DOM_LAYOUT_HANDLER_NAME] = onLayout;\n    }\n  }, [ref, onLayout]); // Observing is done in a separate effect to avoid this effect running\n  // when 'onLayout' changes.\n\n  (0, _useLayoutEffect.default)(function () {\n    var node = ref.current;\n\n    if (node != null && observer != null) {\n      if (typeof node[DOM_LAYOUT_HANDLER_NAME] === 'function') {\n        observer.observe(node);\n      } else {\n        observer.unobserve(node);\n      }\n    }\n\n    return function () {\n      if (node != null && observer != null) {\n        observer.unobserve(node);\n      }\n    };\n  }, [ref, observer]);\n}\n\nmodule.exports = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}