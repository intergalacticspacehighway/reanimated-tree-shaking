{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/assertThisInitialized\";import _get from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";import _inherits from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import InternalAnimatedValue from'./InternalAnimatedValue';import AnimatedNode from'./AnimatedNode';import{val}from'../val';var AnimatedMainClock=/*#__PURE__*/function(_InternalAnimatedValu){_inherits(AnimatedMainClock,_InternalAnimatedValu);var _super=_createSuper(AnimatedMainClock);function AnimatedMainClock(){var _this;_classCallCheck(this,AnimatedMainClock);_this=_super.call(this,{type:'MAIN_CLOCK'});_defineProperty(_assertThisInitialized(_this),\"_frameCallback\",void 0);_defineProperty(_assertThisInitialized(_this),\"_runFrame\",function(){_this._updateValue(0);if(_this.__children.length>0){_this._frameCallback=requestAnimationFrame(_this._runFrame);}});return _this;}_createClass(AnimatedMainClock,[{key:\"__onEvaluate\",value:function __onEvaluate(){return+new Date();}},{key:\"__attach\",value:function __attach(){_get(_getPrototypeOf(AnimatedMainClock.prototype),\"__attach\",this).call(this);if(!this._frameCallback){this._frameCallback=requestAnimationFrame(this._runFrame);}}},{key:\"__detach\",value:function __detach(){if(this._frameCallback){cancelAnimationFrame(this._frameCallback);this._frameCallback=null;}_get(_getPrototypeOf(AnimatedMainClock.prototype),\"__detach\",this).call(this);}}]);return AnimatedMainClock;}(InternalAnimatedValue);var mainClock=new AnimatedMainClock();var AnimatedClock=/*#__PURE__*/function(_AnimatedNode){_inherits(AnimatedClock,_AnimatedNode);var _super2=_createSuper(AnimatedClock);function AnimatedClock(){var _this2;_classCallCheck(this,AnimatedClock);_this2=_super2.call(this,{type:'clock'});_defineProperty(_assertThisInitialized(_this2),\"_started\",void 0);_defineProperty(_assertThisInitialized(_this2),\"_attached\",void 0);return _this2;}_createClass(AnimatedClock,[{key:\"toString\",value:function toString(){return\"AnimatedClock, id: \".concat(this.__nodeID);}},{key:\"__onEvaluate\",value:function __onEvaluate(){return val(mainClock);}},{key:\"__attach\",value:function __attach(){_get(_getPrototypeOf(AnimatedClock.prototype),\"__attach\",this).call(this);if(this._started&&!this._attached){mainClock.__addChild(this);}this._attached=true;}},{key:\"__detach\",value:function __detach(){if(this._started&&this._attached){mainClock.__removeChild(this);}this._attached=false;_get(_getPrototypeOf(AnimatedClock.prototype),\"__detach\",this).call(this);}},{key:\"start\",value:function start(){if(!this._started&&this._attached){mainClock.__addChild(this);}this._started=true;}},{key:\"stop\",value:function stop(){if(this._started&&this._attached){mainClock.__removeChild(this);}this._started=false;}},{key:\"isStarted\",value:function isStarted(){return this._started;}}]);return AnimatedClock;}(AnimatedNode);export{AnimatedClock as default};","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","InternalAnimatedValue","AnimatedNode","val","AnimatedMainClock","type","_updateValue","__children","length","_frameCallback","requestAnimationFrame","_runFrame","Date","cancelAnimationFrame","mainClock","AnimatedClock","__nodeID","_started","_attached","__addChild","__removeChild"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedClock.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport InternalAnimatedValue from './InternalAnimatedValue';\nimport AnimatedNode from './AnimatedNode';\nimport { val } from '../val';\n\nclass AnimatedMainClock extends InternalAnimatedValue {\n  constructor() {\n    super({\n      type: 'MAIN_CLOCK'\n    });\n\n    _defineProperty(this, \"_frameCallback\", void 0);\n\n    _defineProperty(this, \"_runFrame\", () => {\n      this._updateValue(0);\n\n      if (this.__children.length > 0) {\n        this._frameCallback = requestAnimationFrame(this._runFrame);\n      }\n    });\n  }\n\n  __onEvaluate() {\n    return +new Date();\n  }\n\n  __attach() {\n    super.__attach();\n\n    if (!this._frameCallback) {\n      this._frameCallback = requestAnimationFrame(this._runFrame);\n    }\n  }\n\n  __detach() {\n    if (this._frameCallback) {\n      cancelAnimationFrame(this._frameCallback);\n      this._frameCallback = null;\n    }\n\n    super.__detach();\n  }\n\n}\n\nconst mainClock = new AnimatedMainClock();\nexport default class AnimatedClock extends AnimatedNode {\n  constructor() {\n    super({\n      type: 'clock'\n    });\n\n    _defineProperty(this, \"_started\", void 0);\n\n    _defineProperty(this, \"_attached\", void 0);\n  }\n\n  toString() {\n    return `AnimatedClock, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    return val(mainClock);\n  }\n\n  __attach() {\n    super.__attach();\n\n    if (this._started && !this._attached) {\n      mainClock.__addChild(this);\n    }\n\n    this._attached = true;\n  }\n\n  __detach() {\n    if (this._started && this._attached) {\n      mainClock.__removeChild(this);\n    }\n\n    this._attached = false;\n\n    super.__detach();\n  }\n\n  start() {\n    if (!this._started && this._attached) {\n      mainClock.__addChild(this);\n    }\n\n    this._started = true;\n  }\n\n  stop() {\n    if (this._started && this._attached) {\n      mainClock.__removeChild(this);\n    }\n\n    this._started = false;\n  }\n\n  isStarted() {\n    return this._started;\n  }\n\n}"],"mappings":"wsDAAA,QAASA,CAAAA,eAAT,CAAyBC,GAAzB,CAA8BC,GAA9B,CAAmCC,KAAnC,CAA0C,CAAE,GAAID,GAAG,GAAID,CAAAA,GAAX,CAAgB,CAAEG,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,CAA2BC,GAA3B,CAAgC,CAAEC,KAAK,CAAEA,KAAT,CAAgBG,UAAU,CAAE,IAA5B,CAAkCC,YAAY,CAAE,IAAhD,CAAsDC,QAAQ,CAAE,IAAhE,CAAhC,EAA0G,CAA5H,IAAkI,CAAEP,GAAG,CAACC,GAAD,CAAH,CAAWC,KAAX,CAAmB,CAAC,MAAOF,CAAAA,GAAP,CAAa,CAEjN,MAAOQ,CAAAA,qBAAP,KAAkC,yBAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,GAAT,KAAoB,QAApB,C,GAEMC,CAAAA,iB,4IACJ,4BAAc,mDACZ,uBAAM,CACJC,IAAI,CAAE,YADF,CAAN,EAIAb,eAAe,+BAAO,gBAAP,CAAyB,IAAK,EAA9B,CAAf,CAEAA,eAAe,+BAAO,WAAP,CAAoB,UAAM,CACvC,MAAKc,YAAL,CAAkB,CAAlB,EAEA,GAAI,MAAKC,UAAL,CAAgBC,MAAhB,CAAyB,CAA7B,CAAgC,CAC9B,MAAKC,cAAL,CAAsBC,qBAAqB,CAAC,MAAKC,SAAN,CAA3C,CACD,CACF,CANc,CAAf,CAPY,aAcb,C,0DAED,uBAAe,CACb,MAAO,CAAC,GAAIC,CAAAA,IAAJ,EAAR,CACD,C,wBAED,mBAAW,CACT,8EAEA,GAAI,CAAC,KAAKH,cAAV,CAA0B,CACxB,KAAKA,cAAL,CAAsBC,qBAAqB,CAAC,KAAKC,SAAN,CAA3C,CACD,CACF,C,wBAED,mBAAW,CACT,GAAI,KAAKF,cAAT,CAAyB,CACvBI,oBAAoB,CAAC,KAAKJ,cAAN,CAApB,CACA,KAAKA,cAAL,CAAsB,IAAtB,CACD,CAED,8EACD,C,+BApC6BR,qB,EAwChC,GAAMa,CAAAA,SAAS,CAAG,GAAIV,CAAAA,iBAAJ,EAAlB,C,GACqBW,CAAAA,a,qHACnB,wBAAc,gDACZ,yBAAM,CACJV,IAAI,CAAE,OADF,CAAN,EAIAb,eAAe,gCAAO,UAAP,CAAmB,IAAK,EAAxB,CAAf,CAEAA,eAAe,gCAAO,WAAP,CAAoB,IAAK,EAAzB,CAAf,CAPY,cAQb,C,kDAED,mBAAW,CACT,mCAA6B,KAAKwB,QAAlC,EACD,C,4BAED,uBAAe,CACb,MAAOb,CAAAA,GAAG,CAACW,SAAD,CAAV,CACD,C,wBAED,mBAAW,CACT,0EAEA,GAAI,KAAKG,QAAL,EAAiB,CAAC,KAAKC,SAA3B,CAAsC,CACpCJ,SAAS,CAACK,UAAV,CAAqB,IAArB,EACD,CAED,KAAKD,SAAL,CAAiB,IAAjB,CACD,C,wBAED,mBAAW,CACT,GAAI,KAAKD,QAAL,EAAiB,KAAKC,SAA1B,CAAqC,CACnCJ,SAAS,CAACM,aAAV,CAAwB,IAAxB,EACD,CAED,KAAKF,SAAL,CAAiB,KAAjB,CAEA,0EACD,C,qBAED,gBAAQ,CACN,GAAI,CAAC,KAAKD,QAAN,EAAkB,KAAKC,SAA3B,CAAsC,CACpCJ,SAAS,CAACK,UAAV,CAAqB,IAArB,EACD,CAED,KAAKF,QAAL,CAAgB,IAAhB,CACD,C,oBAED,eAAO,CACL,GAAI,KAAKA,QAAL,EAAiB,KAAKC,SAA1B,CAAqC,CACnCJ,SAAS,CAACM,aAAV,CAAwB,IAAxB,EACD,CAED,KAAKH,QAAL,CAAgB,KAAhB,CACD,C,yBAED,oBAAY,CACV,MAAO,MAAKA,QAAZ,CACD,C,2BAzDwCf,Y,SAAtBa,a"},"metadata":{},"sourceType":"module"}