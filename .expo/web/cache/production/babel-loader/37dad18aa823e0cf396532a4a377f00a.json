{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import _get from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";import _inherits from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import AnimatedNode from'./AnimatedNode';import{val}from'../val';import ReanimatedModule from'../../ReanimatedModule';import invariant from'invariant';function sanitizeValue(value){return value===null||value===undefined||typeof value==='string'?value:Number(value);}var CONSTANT_VALUES=new Map();function initializeConstantValues(){if(CONSTANT_VALUES.size!==0){return;}[0,-1,1,-2,2].forEach(function(v){return CONSTANT_VALUES.set(v,new InternalAnimatedValue(v,true));});}/**\n * This class has been made internal in order to omit dependencies' cycles which\n * were caused by imperative setValue and interpolate – they are currently exposed with AnimatedValue.js\n */var InternalAnimatedValue=/*#__PURE__*/function(_AnimatedNode){_inherits(InternalAnimatedValue,_AnimatedNode);var _super=_createSuper(InternalAnimatedValue);function InternalAnimatedValue(value){var _this;var constant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,InternalAnimatedValue);invariant(value!==null,'Animated.Value cannot be set to the null');_this=_super.call(this,{type:'value',value:sanitizeValue(value)});_this._startingValue=_this._value=value;_this._animation=null;_this._constant=constant;return _this;}_createClass(InternalAnimatedValue,[{key:\"__detach\",value:function __detach(){var _this2=this;if(!this._constant){if(ReanimatedModule.getValue){ReanimatedModule.getValue(this.__nodeID,function(val){return _this2.__nodeConfig.value=val;});}else{this.__nodeConfig.value=this.__getValue();}}this.__detachAnimation(this._animation);_get(_getPrototypeOf(InternalAnimatedValue.prototype),\"__detach\",this).call(this);}},{key:\"__detachAnimation\",value:function __detachAnimation(animation){animation&&animation.__detach();if(this._animation===animation){this._animation=null;}}},{key:\"__attachAnimation\",value:function __attachAnimation(animation){this.__detachAnimation(this._animation);this._animation=animation;}},{key:\"__onEvaluate\",value:function __onEvaluate(){if(this.__inputNodes&&this.__inputNodes.length){this.__inputNodes.forEach(val);}return this._value;}// AnimatedValue will override this method to modify the value of a native node.\n},{key:\"setValue\",value:function setValue(value){this.__detachAnimation(this._animation);this._updateValue(value);}},{key:\"_updateValue\",value:function _updateValue(value){this._value=value;this.__forceUpdateCache(value);}}],[{key:\"valueForConstant\",value:function valueForConstant(number){initializeConstantValues();return CONSTANT_VALUES.get(number)||new InternalAnimatedValue(number,true);}}]);return InternalAnimatedValue;}(AnimatedNode);export{InternalAnimatedValue as default};","map":{"version":3,"names":["AnimatedNode","val","ReanimatedModule","invariant","sanitizeValue","value","undefined","Number","CONSTANT_VALUES","Map","initializeConstantValues","size","forEach","v","set","InternalAnimatedValue","constant","type","_startingValue","_value","_animation","_constant","getValue","__nodeID","__nodeConfig","__getValue","__detachAnimation","animation","__detach","__inputNodes","length","_updateValue","__forceUpdateCache","number","get"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/core/InternalAnimatedValue.js"],"sourcesContent":["import AnimatedNode from './AnimatedNode';\nimport { val } from '../val';\nimport ReanimatedModule from '../../ReanimatedModule';\nimport invariant from 'invariant';\n\nfunction sanitizeValue(value) {\n  return value === null || value === undefined || typeof value === 'string' ? value : Number(value);\n}\n\nconst CONSTANT_VALUES = new Map();\n\nfunction initializeConstantValues() {\n  if (CONSTANT_VALUES.size !== 0) {\n    return;\n  }\n\n  [0, -1, 1, -2, 2].forEach(v => CONSTANT_VALUES.set(v, new InternalAnimatedValue(v, true)));\n}\n/**\n * This class has been made internal in order to omit dependencies' cycles which\n * were caused by imperative setValue and interpolate – they are currently exposed with AnimatedValue.js\n */\n\n\nexport default class InternalAnimatedValue extends AnimatedNode {\n  static valueForConstant(number) {\n    initializeConstantValues();\n    return CONSTANT_VALUES.get(number) || new InternalAnimatedValue(number, true);\n  }\n\n  constructor(value, constant = false) {\n    invariant(value !== null, 'Animated.Value cannot be set to the null');\n    super({\n      type: 'value',\n      value: sanitizeValue(value)\n    });\n    this._startingValue = this._value = value;\n    this._animation = null;\n    this._constant = constant;\n  }\n\n  __detach() {\n    if (!this._constant) {\n      if (ReanimatedModule.getValue) {\n        ReanimatedModule.getValue(this.__nodeID, val => this.__nodeConfig.value = val);\n      } else {\n        this.__nodeConfig.value = this.__getValue();\n      }\n    }\n\n    this.__detachAnimation(this._animation);\n\n    super.__detach();\n  }\n\n  __detachAnimation(animation) {\n    animation && animation.__detach();\n\n    if (this._animation === animation) {\n      this._animation = null;\n    }\n  }\n\n  __attachAnimation(animation) {\n    this.__detachAnimation(this._animation);\n\n    this._animation = animation;\n  }\n\n  __onEvaluate() {\n    if (this.__inputNodes && this.__inputNodes.length) {\n      this.__inputNodes.forEach(val);\n    }\n\n    return this._value;\n  } // AnimatedValue will override this method to modify the value of a native node.\n\n\n  setValue(value) {\n    this.__detachAnimation(this._animation);\n\n    this._updateValue(value);\n  }\n\n  _updateValue(value) {\n    this._value = value;\n\n    this.__forceUpdateCache(value);\n  }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}