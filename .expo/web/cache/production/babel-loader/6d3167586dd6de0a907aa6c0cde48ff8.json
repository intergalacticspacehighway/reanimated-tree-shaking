{"ast":null,"code":"\"use strict\";var _regeneratorRuntime=require(\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/regenerator\");var _defineProperty=require(\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/defineProperty\");var _asyncToGenerator=require(\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/asyncToGenerator\");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||(\"get\"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function get(){return m[k];}};}Object.defineProperty(o,k2,desc);}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod){if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);}__setModuleDefault(result,mod);return result;};Object.defineProperty(exports,\"__esModule\",{value:true});exports.compositeImagesAsync=exports.Cache=exports.generateFaviconAsync=exports.generateImageAsync=exports.sharpAsync=exports.isAvailableAsync=exports.findSharpInstanceAsync=exports.jimpAsync=exports.imageAsync=void 0;var Cache=__importStar(require(\"./Cache\"));exports.Cache=Cache;var Image_1=require(\"./Image\");Object.defineProperty(exports,\"compositeImagesAsync\",{enumerable:true,get:function get(){return Image_1.compositeImagesAsync;}});Object.defineProperty(exports,\"generateFaviconAsync\",{enumerable:true,get:function get(){return Image_1.generateFaviconAsync;}});Object.defineProperty(exports,\"generateImageAsync\",{enumerable:true,get:function get(){return Image_1.generateImageAsync;}});var jimp_1=require(\"./jimp\");Object.defineProperty(exports,\"jimpAsync\",{enumerable:true,get:function get(){return jimp_1.jimpAsync;}});var sharp_1=require(\"./sharp\");Object.defineProperty(exports,\"findSharpInstanceAsync\",{enumerable:true,get:function get(){return sharp_1.findSharpInstanceAsync;}});Object.defineProperty(exports,\"isAvailableAsync\",{enumerable:true,get:function get(){return sharp_1.isAvailableAsync;}});Object.defineProperty(exports,\"sharpAsync\",{enumerable:true,get:function get(){return sharp_1.sharpAsync;}});function imageAsync(_x){return _imageAsync.apply(this,arguments);}function _imageAsync(){_imageAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(options){var commands,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:commands=_args.length>1&&_args[1]!==undefined?_args[1]:[];_context.next=3;return(0,sharp_1.isAvailableAsync)();case 3:if(!_context.sent){_context.next=5;break;}return _context.abrupt(\"return\",(0,sharp_1.sharpAsync)(options,commands));case 5:return _context.abrupt(\"return\",(0,jimp_1.jimpAsync)(_objectSpread(_objectSpread({},options),{},{format:(0,jimp_1.convertFormat)(options.format),originalInput:options.input}),commands));case 6:case\"end\":return _context.stop();}}},_callee);}));return _imageAsync.apply(this,arguments);}exports.imageAsync=imageAsync;","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":"uxEAAA,GAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA,CA2BE,OAAA,CAAA,KAAA,CAAA,KAAA,CA1BF,GAAA,CAAA,OAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CA2BE,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,sBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MA3BO,CAAA,OAAA,CAAA,oBA2BP,CA3B2B,CA2B3B,CAAA,EAFA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,sBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MAzB6B,CAAA,OAAA,CAAA,oBAyB7B,CAzBiD,CAyBjD,CAAA,EADA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MAxBmD,CAAA,OAAA,CAAA,kBAwBnD,CAxBqE,CAwBrE,CAAA,EAtBF,GAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAkBE,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,WAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MAlBsB,CAAA,MAAA,CAAA,SAkBtB,CAlB+B,CAkB/B,CAAA,EAjBF,GAAA,CAAA,OAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAkBE,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,wBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MAlBO,CAAA,OAAA,CAAA,sBAkBP,CAlB6B,CAkB7B,CAAA,EACA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MAnB+B,CAAA,OAAA,CAAA,gBAmB/B,CAnB+C,CAmB/C,CAAA,EACA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA,UAAA,CAAA,IAAA,CAAA,GAAA,CAAA,cAAA,CAAA,MApBiD,CAAA,OAAA,CAAA,UAoBjD,CApB2D,CAoB3D,CAAA,E,QAjBoB,CAAA,U,0IAAf,iBACL,OADK,+IAEL,QAFK,+CAE6B,EAF7B,uBAIK,CAAA,EAAA,OAAA,CAAA,gBAAA,GAJL,kFAKI,CAAA,EAAA,OAAA,CAAA,UAAA,EAAW,OAAX,CAAoB,QAApB,CALJ,yCAOE,CAAA,EAAA,MAAA,CAAA,SAAA,iCACA,OADA,MACS,MAAM,CAAE,CAAA,EAAA,MAAA,CAAA,aAAA,EAAc,OAAO,CAAC,MAAtB,CADjB,CACgD,aAAa,CAAE,OAAO,CAAC,KADvE,GAEL,QAFK,CAPF,wD,6CAAP,OAAA,CAAA,UAAA,CAAA,UAAA","sourcesContent":["import * as Cache from './Cache';\nimport { compositeImagesAsync, generateFaviconAsync, generateImageAsync } from './Image';\nimport { ImageFormat, ImageOptions, ResizeMode } from './Image.types';\nimport { convertFormat, jimpAsync } from './jimp';\nimport { findSharpInstanceAsync, isAvailableAsync, sharpAsync } from './sharp';\nimport { SharpCommandOptions, SharpGlobalOptions } from './sharp.types';\n\nexport async function imageAsync(\n  options: SharpGlobalOptions,\n  commands: SharpCommandOptions[] = []\n) {\n  if (await isAvailableAsync()) {\n    return sharpAsync(options, commands);\n  }\n  return jimpAsync(\n    { ...options, format: convertFormat(options.format), originalInput: options.input },\n    commands\n  );\n}\n\nexport {\n  jimpAsync,\n  findSharpInstanceAsync,\n  isAvailableAsync,\n  sharpAsync,\n  generateImageAsync,\n  generateFaviconAsync,\n  Cache,\n  compositeImagesAsync,\n};\n\nexport { SharpGlobalOptions, SharpCommandOptions, ResizeMode, ImageFormat, ImageOptions };\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}