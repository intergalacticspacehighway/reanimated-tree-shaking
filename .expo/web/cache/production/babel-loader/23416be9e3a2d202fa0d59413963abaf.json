{"ast":null,"code":"import{always,block,call,clockRunning,cond,set,startClock,stopClock}from'../base';import Clock from'../core/AnimatedClock';import{evaluateOnce}from'../derived/evaluateOnce';function createOldAnimationObject(node,animationStateDefaults,value,config){var newClock=new Clock();var currentState=animationStateDefaults();var alwaysNode;var isStarted=false;var isDone=false;var wasStopped=false;var animationCallback;var animation={start:function start(currentAnimationCallback){animationCallback=currentAnimationCallback;if(isStarted){animationCallback&&animationCallback({finished:false});return;}if(isDone){console.warn('Animation has been finished before');return;}if(!value.isNativelyInitialized()){return;}isStarted=true;evaluateOnce(set(currentState.position,value),currentState.position,function(){alwaysNode=always(set(value,block([cond(clockRunning(newClock),0,startClock(newClock)),node(newClock,currentState,config),cond(currentState.finished,[call([],function(){isStarted=false;if(!wasStopped){isDone=true;}value.__detachAnimation(animation);isDone=true;if(!wasStopped){wasStopped=false;}}),stopClock(newClock)]),currentState.position])));value.__attachAnimation(animation);alwaysNode.__addChild(value);});},__detach:function __detach(){animationCallback&&animationCallback({finished:isDone});animationCallback=null;value.__initialized&&alwaysNode.__removeChild(value);},stop:function stop(){if(isDone){console.warn('Calling stop has no effect as the animation has already completed');return;}if(!isStarted){console.warn(\"Calling stop has no effect as the animation hasn't been started\");return;}wasStopped=true;evaluateOnce(set(currentState.finished,1),currentState.finished);},__stopImmediately_testOnly:function __stopImmediately_testOnly(result){animation.stop();isDone=result;value.__detachAnimation(animation);}};return animation;}export default function backwardsCompatibleAnimWrapper(node,animationStateDefaults){return function(clock,state,config){if(config!==undefined){return node(clock,state,config);}return createOldAnimationObject(node,animationStateDefaults,clock,state);};}","map":{"version":3,"names":["always","block","call","clockRunning","cond","set","startClock","stopClock","Clock","evaluateOnce","createOldAnimationObject","node","animationStateDefaults","value","config","newClock","currentState","alwaysNode","isStarted","isDone","wasStopped","animationCallback","animation","start","currentAnimationCallback","finished","console","warn","isNativelyInitialized","position","__detachAnimation","__attachAnimation","__addChild","__detach","__initialized","__removeChild","stop","__stopImmediately_testOnly","result","backwardsCompatibleAnimWrapper","clock","state","undefined"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/animations/backwardCompatibleAnimWrapper.js"],"sourcesContent":["import{always,block,call,clockRunning,cond,set,startClock,stopClock}from'../base';import Clock from'../core/AnimatedClock';import{evaluateOnce}from'../derived/evaluateOnce';function createOldAnimationObject(node,animationStateDefaults,value,config){var newClock=new Clock();var currentState=animationStateDefaults();var alwaysNode;var isStarted=false;var isDone=false;var wasStopped=false;var animationCallback;var animation={start:function start(currentAnimationCallback){animationCallback=currentAnimationCallback;if(isStarted){animationCallback&&animationCallback({finished:false});return;}if(isDone){console.warn('Animation has been finished before');return;}if(!value.isNativelyInitialized()){return;}isStarted=true;evaluateOnce(set(currentState.position,value),currentState.position,function(){alwaysNode=always(set(value,block([cond(clockRunning(newClock),0,startClock(newClock)),node(newClock,currentState,config),cond(currentState.finished,[call([],function(){isStarted=false;if(!wasStopped){isDone=true;}value.__detachAnimation(animation);isDone=true;if(!wasStopped){wasStopped=false;}}),stopClock(newClock)]),currentState.position])));value.__attachAnimation(animation);alwaysNode.__addChild(value);});},__detach:function __detach(){animationCallback&&animationCallback({finished:isDone});animationCallback=null;value.__initialized&&alwaysNode.__removeChild(value);},stop:function stop(){if(isDone){console.warn('Calling stop has no effect as the animation has already completed');return;}if(!isStarted){console.warn(\"Calling stop has no effect as the animation hasn't been started\");return;}wasStopped=true;evaluateOnce(set(currentState.finished,1),currentState.finished);},__stopImmediately_testOnly:function __stopImmediately_testOnly(result){animation.stop();isDone=result;value.__detachAnimation(animation);}};return animation;}export default function backwardsCompatibleAnimWrapper(node,animationStateDefaults){return function(clock,state,config){if(config!==undefined){return node(clock,state,config);}return createOldAnimationObject(node,animationStateDefaults,clock,state);};}"],"mappings":"AAAA,OAAOA,MAAP,CAAcC,KAAd,CAAoBC,IAApB,CAAyBC,YAAzB,CAAsCC,IAAtC,CAA2CC,GAA3C,CAA+CC,UAA/C,CAA0DC,SAA1D,KAAwE,SAAxE,CAAkF,MAAOC,CAAAA,KAAP,KAAiB,uBAAjB,CAAyC,OAAOC,YAAP,KAAwB,yBAAxB,CAAkD,QAASC,CAAAA,wBAAT,CAAkCC,IAAlC,CAAuCC,sBAAvC,CAA8DC,KAA9D,CAAoEC,MAApE,CAA2E,CAAC,GAAIC,CAAAA,QAAQ,CAAC,GAAIP,CAAAA,KAAJ,EAAb,CAAyB,GAAIQ,CAAAA,YAAY,CAACJ,sBAAsB,EAAvC,CAA0C,GAAIK,CAAAA,UAAJ,CAAe,GAAIC,CAAAA,SAAS,CAAC,KAAd,CAAoB,GAAIC,CAAAA,MAAM,CAAC,KAAX,CAAiB,GAAIC,CAAAA,UAAU,CAAC,KAAf,CAAqB,GAAIC,CAAAA,iBAAJ,CAAsB,GAAIC,CAAAA,SAAS,CAAC,CAACC,KAAK,CAAC,QAASA,CAAAA,KAAT,CAAeC,wBAAf,CAAwC,CAACH,iBAAiB,CAACG,wBAAlB,CAA2C,GAAGN,SAAH,CAAa,CAACG,iBAAiB,EAAEA,iBAAiB,CAAC,CAACI,QAAQ,CAAC,KAAV,CAAD,CAApC,CAAuD,OAAQ,IAAGN,MAAH,CAAU,CAACO,OAAO,CAACC,IAAR,CAAa,oCAAb,EAAmD,OAAQ,IAAG,CAACd,KAAK,CAACe,qBAAN,EAAJ,CAAkC,CAAC,OAAQ,CAAAV,SAAS,CAAC,IAAV,CAAeT,YAAY,CAACJ,GAAG,CAACW,YAAY,CAACa,QAAd,CAAuBhB,KAAvB,CAAJ,CAAkCG,YAAY,CAACa,QAA/C,CAAwD,UAAU,CAACZ,UAAU,CAACjB,MAAM,CAACK,GAAG,CAACQ,KAAD,CAAOZ,KAAK,CAAC,CAACG,IAAI,CAACD,YAAY,CAACY,QAAD,CAAb,CAAwB,CAAxB,CAA0BT,UAAU,CAACS,QAAD,CAApC,CAAL,CAAqDJ,IAAI,CAACI,QAAD,CAAUC,YAAV,CAAuBF,MAAvB,CAAzD,CAAwFV,IAAI,CAACY,YAAY,CAACS,QAAd,CAAuB,CAACvB,IAAI,CAAC,EAAD,CAAI,UAAU,CAACgB,SAAS,CAAC,KAAV,CAAgB,GAAG,CAACE,UAAJ,CAAe,CAACD,MAAM,CAAC,IAAP,CAAa,CAAAN,KAAK,CAACiB,iBAAN,CAAwBR,SAAxB,EAAmCH,MAAM,CAAC,IAAP,CAAY,GAAG,CAACC,UAAJ,CAAe,CAACA,UAAU,CAAC,KAAX,CAAkB,CAAC,CAA9I,CAAL,CAAqJb,SAAS,CAACQ,QAAD,CAA9J,CAAvB,CAA5F,CAA8RC,YAAY,CAACa,QAA3S,CAAD,CAAZ,CAAJ,CAAjB,CAA0VhB,KAAK,CAACkB,iBAAN,CAAwBT,SAAxB,EAAmCL,UAAU,CAACe,UAAX,CAAsBnB,KAAtB,EAA8B,CAA9d,CAAZ,CAA6e,CAArxB,CAAsxBoB,QAAQ,CAAC,QAASA,CAAAA,QAAT,EAAmB,CAACZ,iBAAiB,EAAEA,iBAAiB,CAAC,CAACI,QAAQ,CAACN,MAAV,CAAD,CAApC,CAAwDE,iBAAiB,CAAC,IAAlB,CAAuBR,KAAK,CAACqB,aAAN,EAAqBjB,UAAU,CAACkB,aAAX,CAAyBtB,KAAzB,CAArB,CAAsD,CAAx7B,CAAy7BuB,IAAI,CAAC,QAASA,CAAAA,IAAT,EAAe,CAAC,GAAGjB,MAAH,CAAU,CAACO,OAAO,CAACC,IAAR,CAAa,mEAAb,EAAkF,OAAQ,IAAG,CAACT,SAAJ,CAAc,CAACQ,OAAO,CAACC,IAAR,CAAa,iEAAb,EAAgF,OAAQ,CAAAP,UAAU,CAAC,IAAX,CAAgBX,YAAY,CAACJ,GAAG,CAACW,YAAY,CAACS,QAAd,CAAuB,CAAvB,CAAJ,CAA8BT,YAAY,CAACS,QAA3C,CAAZ,CAAkE,CAA5uC,CAA6uCY,0BAA0B,CAAC,QAASA,CAAAA,0BAAT,CAAoCC,MAApC,CAA2C,CAAChB,SAAS,CAACc,IAAV,GAAiBjB,MAAM,CAACmB,MAAP,CAAczB,KAAK,CAACiB,iBAAN,CAAwBR,SAAxB,EAAoC,CAAv3C,CAAd,CAAu4C,MAAOA,CAAAA,SAAP,CAAkB,eAAe,SAASiB,CAAAA,8BAAT,CAAwC5B,IAAxC,CAA6CC,sBAA7C,CAAoE,CAAC,MAAO,UAAS4B,KAAT,CAAeC,KAAf,CAAqB3B,MAArB,CAA4B,CAAC,GAAGA,MAAM,GAAG4B,SAAZ,CAAsB,CAAC,MAAO/B,CAAAA,IAAI,CAAC6B,KAAD,CAAOC,KAAP,CAAa3B,MAAb,CAAX,CAAiC,OAAOJ,CAAAA,wBAAwB,CAACC,IAAD,CAAMC,sBAAN,CAA6B4B,KAA7B,CAAmCC,KAAnC,CAA/B,CAA0E,CAAtK,CAAwK"},"metadata":{},"sourceType":"module"}