{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;/** @typedef {import(\"ajv\").Ajv} Ajv */ /** @typedef {import(\"ajv\").ValidateFunction} ValidateFunction */ /** @typedef {import(\"../validate\").SchemaUtilErrorObject} SchemaUtilErrorObject */ /**\n * @param {string} message\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */function errorMessage(message,schema,data){return{// @ts-ignore\n// eslint-disable-next-line no-undefined\ndataPath:undefined,// @ts-ignore\n// eslint-disable-next-line no-undefined\nschemaPath:undefined,keyword:'absolutePath',params:{absolutePath:data},message:message,parentSchema:schema};}/**\n * @param {boolean} shouldBeAbsolute\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */function getErrorFor(shouldBeAbsolute,schema,data){var message=shouldBeAbsolute?\"The provided value \".concat(JSON.stringify(data),\" is not an absolute path!\"):\"A relative path is expected. However, the provided value \".concat(JSON.stringify(data),\" is an absolute path!\");return errorMessage(message,schema,data);}/**\n *\n * @param {Ajv} ajv\n * @returns {Ajv}\n */function addAbsolutePathKeyword(ajv){ajv.addKeyword('absolutePath',{errors:true,type:'string',compile:function compile(schema,parentSchema){/** @type {ValidateFunction} */var callback=function callback(data){var passes=true;var isExclamationMarkPresent=data.includes('!');if(isExclamationMarkPresent){callback.errors=[errorMessage(\"The provided value \".concat(JSON.stringify(data),\" contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.\"),parentSchema,data)];passes=false;}// ?:[A-Za-z]:\\\\ - Windows absolute path\n// \\\\\\\\ - Windows network absolute path\n// \\/ - Unix-like OS absolute path\nvar isCorrectAbsolutePath=schema===/^(?:[A-Za-z]:(\\\\|\\/)|\\\\\\\\|\\/)/.test(data);if(!isCorrectAbsolutePath){callback.errors=[getErrorFor(schema,parentSchema,data)];passes=false;}return passes;};callback.errors=[];return callback;}});return ajv;}var _default=addAbsolutePathKeyword;exports[\"default\"]=_default;","map":{"version":3,"names":["Object","defineProperty","exports","value","errorMessage","message","schema","data","dataPath","undefined","schemaPath","keyword","params","absolutePath","parentSchema","getErrorFor","shouldBeAbsolute","JSON","stringify","addAbsolutePathKeyword","ajv","addKeyword","errors","type","compile","callback","passes","isExclamationMarkPresent","includes","isCorrectAbsolutePath","test","_default"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/@expo/webpack-config/node_modules/babel-loader/node_modules/schema-utils/dist/keywords/absolutePath.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/** @typedef {import(\"ajv\").Ajv} Ajv */\n\n/** @typedef {import(\"ajv\").ValidateFunction} ValidateFunction */\n\n/** @typedef {import(\"../validate\").SchemaUtilErrorObject} SchemaUtilErrorObject */\n\n/**\n * @param {string} message\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */\nfunction errorMessage(message, schema, data) {\n  return {\n    // @ts-ignore\n    // eslint-disable-next-line no-undefined\n    dataPath: undefined,\n    // @ts-ignore\n    // eslint-disable-next-line no-undefined\n    schemaPath: undefined,\n    keyword: 'absolutePath',\n    params: {\n      absolutePath: data\n    },\n    message,\n    parentSchema: schema\n  };\n}\n/**\n * @param {boolean} shouldBeAbsolute\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */\n\n\nfunction getErrorFor(shouldBeAbsolute, schema, data) {\n  const message = shouldBeAbsolute ? `The provided value ${JSON.stringify(data)} is not an absolute path!` : `A relative path is expected. However, the provided value ${JSON.stringify(data)} is an absolute path!`;\n  return errorMessage(message, schema, data);\n}\n/**\n *\n * @param {Ajv} ajv\n * @returns {Ajv}\n */\n\n\nfunction addAbsolutePathKeyword(ajv) {\n  ajv.addKeyword('absolutePath', {\n    errors: true,\n    type: 'string',\n\n    compile(schema, parentSchema) {\n      /** @type {ValidateFunction} */\n      const callback = data => {\n        let passes = true;\n        const isExclamationMarkPresent = data.includes('!');\n\n        if (isExclamationMarkPresent) {\n          callback.errors = [errorMessage(`The provided value ${JSON.stringify(data)} contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.`, parentSchema, data)];\n          passes = false;\n        } // ?:[A-Za-z]:\\\\ - Windows absolute path\n        // \\\\\\\\ - Windows network absolute path\n        // \\/ - Unix-like OS absolute path\n\n\n        const isCorrectAbsolutePath = schema === /^(?:[A-Za-z]:(\\\\|\\/)|\\\\\\\\|\\/)/.test(data);\n\n        if (!isCorrectAbsolutePath) {\n          callback.errors = [getErrorFor(schema, parentSchema, data)];\n          passes = false;\n        }\n\n        return passes;\n      };\n\n      callback.errors = [];\n      return callback;\n    }\n\n  });\n  return ajv;\n}\n\nvar _default = addAbsolutePathKeyword;\nexports.default = _default;"],"mappings":"AAAA,aAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CC,KAAK,CAAE,IADoC,CAA7C,EAGAD,OAAO,WAAP,CAAkB,IAAK,EAAvB,CAEA,uC,CAEA,iE,CAEA,mF,CAEA;AACA;AACA;AACA;AACA;AACA,GACA,QAASE,CAAAA,YAAT,CAAsBC,OAAtB,CAA+BC,MAA/B,CAAuCC,IAAvC,CAA6C,CAC3C,MAAO,CACL;AACA;AACAC,QAAQ,CAAEC,SAHL,CAIL;AACA;AACAC,UAAU,CAAED,SANP,CAOLE,OAAO,CAAE,cAPJ,CAQLC,MAAM,CAAE,CACNC,YAAY,CAAEN,IADR,CARH,CAWLF,OAAO,CAAPA,OAXK,CAYLS,YAAY,CAAER,MAZT,CAAP,CAcD,CACD;AACA;AACA;AACA;AACA;AACA,GAGA,QAASS,CAAAA,WAAT,CAAqBC,gBAArB,CAAuCV,MAAvC,CAA+CC,IAA/C,CAAqD,CACnD,GAAMF,CAAAA,OAAO,CAAGW,gBAAgB,8BAAyBC,IAAI,CAACC,SAAL,CAAeX,IAAf,CAAzB,iGAAuIU,IAAI,CAACC,SAAL,CAAeX,IAAf,CAAvI,yBAAhC,CACA,MAAOH,CAAAA,YAAY,CAACC,OAAD,CAAUC,MAAV,CAAkBC,IAAlB,CAAnB,CACD,CACD;AACA;AACA;AACA;AACA,GAGA,QAASY,CAAAA,sBAAT,CAAgCC,GAAhC,CAAqC,CACnCA,GAAG,CAACC,UAAJ,CAAe,cAAf,CAA+B,CAC7BC,MAAM,CAAE,IADqB,CAE7BC,IAAI,CAAE,QAFuB,CAI7BC,OAJ6B,kBAIrBlB,MAJqB,CAIbQ,YAJa,CAIC,CAC5B,+BACA,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAlB,IAAI,CAAI,CACvB,GAAImB,CAAAA,MAAM,CAAG,IAAb,CACA,GAAMC,CAAAA,wBAAwB,CAAGpB,IAAI,CAACqB,QAAL,CAAc,GAAd,CAAjC,CAEA,GAAID,wBAAJ,CAA8B,CAC5BF,QAAQ,CAACH,MAAT,CAAkB,CAAClB,YAAY,8BAAuBa,IAAI,CAACC,SAAL,CAAeX,IAAf,CAAvB,iGAA2IO,YAA3I,CAAyJP,IAAzJ,CAAb,CAAlB,CACAmB,MAAM,CAAG,KAAT,CACD,CAAC;AACF;AACA;AAGA,GAAMG,CAAAA,qBAAqB,CAAGvB,MAAM,GAAK,gCAAgCwB,IAAhC,CAAqCvB,IAArC,CAAzC,CAEA,GAAI,CAACsB,qBAAL,CAA4B,CAC1BJ,QAAQ,CAACH,MAAT,CAAkB,CAACP,WAAW,CAACT,MAAD,CAASQ,YAAT,CAAuBP,IAAvB,CAAZ,CAAlB,CACAmB,MAAM,CAAG,KAAT,CACD,CAED,MAAOA,CAAAA,MAAP,CACD,CApBD,CAsBAD,QAAQ,CAACH,MAAT,CAAkB,EAAlB,CACA,MAAOG,CAAAA,QAAP,CACD,CA9B4B,CAA/B,EAiCA,MAAOL,CAAAA,GAAP,CACD,CAED,GAAIW,CAAAA,QAAQ,CAAGZ,sBAAf,CACAjB,OAAO,WAAP,CAAkB6B,QAAlB"},"metadata":{},"sourceType":"script"}