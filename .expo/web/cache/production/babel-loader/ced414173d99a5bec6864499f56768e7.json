{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import MutableValue from'./MutableValue';var Mapper=/*#__PURE__*/function(){function Mapper(module,mapper){var _this=this;var inputs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var outputs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];_classCallCheck(this,Mapper);this.dirty=true;this.id=Mapper.MAPPER_ID++;this.inputs=this.extractMutablesFromArray(inputs);this.outputs=this.extractMutablesFromArray(outputs);this.mapper=mapper;var markDirty=function markDirty(){_this.dirty=true;module.maybeRequestRender();};this.inputs.forEach(function(input){input.addListener(markDirty);});}_createClass(Mapper,[{key:\"execute\",value:function execute(){this.dirty=false;this.mapper();}},{key:\"extractMutablesFromArray\",value:function extractMutablesFromArray(array){var res=[];function extractMutables(value){if(value==null){// return;\n}else if(value instanceof MutableValue){res.push(value);}else if(Array.isArray(value)){value.forEach(function(v){return extractMutables(v);});}else if(typeof value==='object'){Object.keys(value).forEach(function(key){extractMutables(value[key]);});}}extractMutables(array);return res;}}]);return Mapper;}();export{Mapper as default};Mapper.MAPPER_ID=1;","map":{"version":3,"names":["_classCallCheck","_createClass","MutableValue","Mapper","module","mapper","_this","inputs","arguments","length","undefined","outputs","dirty","id","MAPPER_ID","extractMutablesFromArray","markDirty","maybeRequestRender","forEach","input","addListener","key","value","execute","array","res","extractMutables","push","Array","isArray","v","Object","keys","default"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/Mapper.js"],"sourcesContent":["import _classCallCheck from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";\nimport MutableValue from './MutableValue';\n\nvar Mapper = /*#__PURE__*/function () {\n  function Mapper(module, mapper) {\n    var _this = this;\n\n    var inputs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var outputs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n    _classCallCheck(this, Mapper);\n\n    this.dirty = true;\n    this.id = Mapper.MAPPER_ID++;\n    this.inputs = this.extractMutablesFromArray(inputs);\n    this.outputs = this.extractMutablesFromArray(outputs);\n    this.mapper = mapper;\n\n    var markDirty = function markDirty() {\n      _this.dirty = true;\n      module.maybeRequestRender();\n    };\n\n    this.inputs.forEach(function (input) {\n      input.addListener(markDirty);\n    });\n  }\n\n  _createClass(Mapper, [{\n    key: \"execute\",\n    value: function execute() {\n      this.dirty = false;\n      this.mapper();\n    }\n  }, {\n    key: \"extractMutablesFromArray\",\n    value: function extractMutablesFromArray(array) {\n      var res = [];\n\n      function extractMutables(value) {\n        if (value == null) {// return;\n        } else if (value instanceof MutableValue) {\n          res.push(value);\n        } else if (Array.isArray(value)) {\n          value.forEach(function (v) {\n            return extractMutables(v);\n          });\n        } else if (typeof value === 'object') {\n          Object.keys(value).forEach(function (key) {\n            extractMutables(value[key]);\n          });\n        }\n      }\n\n      extractMutables(array);\n      return res;\n    }\n  }]);\n\n  return Mapper;\n}();\n\nexport { Mapper as default };\nMapper.MAPPER_ID = 1;"],"mappings":"AAAA,MAAOA,CAAAA,eAAP,KAA4B,0HAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,uHAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,GAAIC,CAAAA,MAAM,CAAG,aAAa,UAAY,CACpC,QAASA,CAAAA,MAAT,CAAgBC,MAAhB,CAAwBC,MAAxB,CAAgC,CAC9B,GAAIC,CAAAA,KAAK,CAAG,IAAZ,CAEA,GAAIC,CAAAA,MAAM,CAAGC,SAAS,CAACC,MAAV,CAAmB,CAAnB,EAAwBD,SAAS,CAAC,CAAD,CAAT,GAAiBE,SAAzC,CAAqDF,SAAS,CAAC,CAAD,CAA9D,CAAoE,EAAjF,CACA,GAAIG,CAAAA,OAAO,CAAGH,SAAS,CAACC,MAAV,CAAmB,CAAnB,EAAwBD,SAAS,CAAC,CAAD,CAAT,GAAiBE,SAAzC,CAAqDF,SAAS,CAAC,CAAD,CAA9D,CAAoE,EAAlF,CAEAR,eAAe,CAAC,IAAD,CAAOG,MAAP,CAAf,CAEA,KAAKS,KAAL,CAAa,IAAb,CACA,KAAKC,EAAL,CAAUV,MAAM,CAACW,SAAP,EAAV,CACA,KAAKP,MAAL,CAAc,KAAKQ,wBAAL,CAA8BR,MAA9B,CAAd,CACA,KAAKI,OAAL,CAAe,KAAKI,wBAAL,CAA8BJ,OAA9B,CAAf,CACA,KAAKN,MAAL,CAAcA,MAAd,CAEA,GAAIW,CAAAA,SAAS,CAAG,QAASA,CAAAA,SAAT,EAAqB,CACnCV,KAAK,CAACM,KAAN,CAAc,IAAd,CACAR,MAAM,CAACa,kBAAP,GACD,CAHD,CAKA,KAAKV,MAAL,CAAYW,OAAZ,CAAoB,SAAUC,KAAV,CAAiB,CACnCA,KAAK,CAACC,WAAN,CAAkBJ,SAAlB,EACD,CAFD,EAGD,CAEDf,YAAY,CAACE,MAAD,CAAS,CAAC,CACpBkB,GAAG,CAAE,SADe,CAEpBC,KAAK,CAAE,QAASC,CAAAA,OAAT,EAAmB,CACxB,KAAKX,KAAL,CAAa,KAAb,CACA,KAAKP,MAAL,GACD,CALmB,CAAD,CAMlB,CACDgB,GAAG,CAAE,0BADJ,CAEDC,KAAK,CAAE,QAASP,CAAAA,wBAAT,CAAkCS,KAAlC,CAAyC,CAC9C,GAAIC,CAAAA,GAAG,CAAG,EAAV,CAEA,QAASC,CAAAA,eAAT,CAAyBJ,KAAzB,CAAgC,CAC9B,GAAIA,KAAK,EAAI,IAAb,CAAmB,CAAC;AACnB,CADD,IACO,IAAIA,KAAK,WAAYpB,CAAAA,YAArB,CAAmC,CACxCuB,GAAG,CAACE,IAAJ,CAASL,KAAT,EACD,CAFM,IAEA,IAAIM,KAAK,CAACC,OAAN,CAAcP,KAAd,CAAJ,CAA0B,CAC/BA,KAAK,CAACJ,OAAN,CAAc,SAAUY,CAAV,CAAa,CACzB,MAAOJ,CAAAA,eAAe,CAACI,CAAD,CAAtB,CACD,CAFD,EAGD,CAJM,IAIA,IAAI,MAAOR,CAAAA,KAAP,GAAiB,QAArB,CAA+B,CACpCS,MAAM,CAACC,IAAP,CAAYV,KAAZ,EAAmBJ,OAAnB,CAA2B,SAAUG,GAAV,CAAe,CACxCK,eAAe,CAACJ,KAAK,CAACD,GAAD,CAAN,CAAf,CACD,CAFD,EAGD,CACF,CAEDK,eAAe,CAACF,KAAD,CAAf,CACA,MAAOC,CAAAA,GAAP,CACD,CAtBA,CANkB,CAAT,CAAZ,CA+BA,MAAOtB,CAAAA,MAAP,CACD,CAzDyB,EAA1B,CA2DA,OAASA,MAAM,GAAI8B,CAAAA,OAAnB,EACA9B,MAAM,CAACW,SAAP,CAAmB,CAAnB"},"metadata":{},"sourceType":"module"}