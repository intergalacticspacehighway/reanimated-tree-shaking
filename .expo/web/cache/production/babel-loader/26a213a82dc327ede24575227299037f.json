{"ast":null,"code":"function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import{useEffect,useRef}from'react';import{processColor}from'../Colors';import{makeRemote}from'../core';import{isWeb,isJest}from'../PlatformChecker';import{colorProps}from'../UpdateProps';import WorkletEventHandler from'../WorkletEventHandler';export function useEvent(handler){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var rebuild=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var initRef=useRef(null);if(initRef.current===null){initRef.current=new WorkletEventHandler(handler,eventNames);}else if(rebuild){initRef.current.updateWorklet(handler);}useEffect(function(){return function(){initRef.current=null;};},[]);return initRef;}export function useHandler(handlers,dependencies){var initRef=useRef(null);if(initRef.current===null){initRef.current={context:makeRemote({}),savedDependencies:[]};}useEffect(function(){return function(){initRef.current=null;};},[]);var _initRef$current=initRef.current,context=_initRef$current.context,savedDependencies=_initRef$current.savedDependencies;dependencies=buildDependencies(dependencies,handlers);var doDependenciesDiffer=!areDependenciesEqual(dependencies,savedDependencies);initRef.current.savedDependencies=dependencies;var useWeb=isWeb()||isJest();return{context:context,doDependenciesDiffer:doDependenciesDiffer,useWeb:useWeb};}// builds one big hash from multiple worklets' hashes\nexport function buildWorkletsHash(handlers){return Object.values(handlers).reduce(function(acc,worklet){return(// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nacc+worklet.__workletHash.toString());},'');}// builds dependencies array for gesture handlers\nexport function buildDependencies(dependencies,handlers){var handlersList=Object.values(handlers).filter(function(handler){return handler!==undefined;});if(!dependencies){dependencies=handlersList.map(function(handler){return{workletHash:handler.__workletHash,closure:handler._closure};});}else{dependencies.push(buildWorkletsHash(handlersList));}return dependencies;}// this is supposed to work as useEffect comparison\nexport function areDependenciesEqual(nextDeps,prevDeps){function is(x,y){/* eslint-disable no-self-compare */return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y;/* eslint-enable no-self-compare */}var objectIs=typeof Object.is==='function'?Object.is:is;function areHookInputsEqual(nextDeps,prevDeps){if(!nextDeps||!prevDeps||prevDeps.length!==nextDeps.length){return false;}for(var i=0;i<prevDeps.length;++i){if(!objectIs(nextDeps[i],prevDeps[i])){return false;}}return true;}return areHookInputsEqual(nextDeps,prevDeps);}export function hasColorProps(updates){var colorPropsSet=new Set(colorProps);for(var key in updates){if(colorPropsSet.has(key)){return true;}}return false;}export var parseColors=function(){var _f=function _f(updates){for(var key in updates){if(colorProps.indexOf(key)!==-1){// value could be an animation in which case processColor will recognize it and will return undefined\n// -> in such a case we don't want to override style of that key\nvar processedColor=processColor(updates[key]);if(processedColor!==undefined){updates[key]=processedColor;}}}};_f._closure={colorProps:colorProps,processColor:processColor};_f.asString=\"function parseColors(updates){const{colorProps,processColor}=jsThis._closure;{for(const key in updates){if(colorProps.indexOf(key)!==-1){const processedColor=processColor(updates[key]);if(processedColor!==undefined){updates[key]=processedColor;}}}}}\";_f.__workletHash=3582645873562;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (94:7)\";return _f;}();export function canApplyOptimalisation(upadterFn){var FUNCTIONLESS_FLAG=1;var STATEMENTLESS_FLAG=2;// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nvar optimalization=upadterFn.__optimalization;return optimalization&FUNCTIONLESS_FLAG&&optimalization&STATEMENTLESS_FLAG;}export var isAnimated=function(){var _f=function _f(prop){var propsToCheck=[prop];while(propsToCheck.length>0){var currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){var _iterator=_createForOfIteratorHelper(currentProp),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;propsToCheck.push(item);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(var _i=0,_Object$values=Object.values(currentProp);_i<_Object$values.length;_i++){var _item=_Object$values[_i];propsToCheck.push(_item);}}// if none of the above, it's not the animated prop, check next one\n}// when none of the props were animated return false\n// when none of the props were animated return false\nreturn false;};_f._closure={};_f.asString=\"function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}\";_f.__workletHash=3559579197933;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (114:7)\";return _f;}();export var styleDiff=function(){var _f=function _f(oldStyle,newStyle){var diff={};for(var key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(var _key in newStyle){var value=newStyle[_key];var oldValue=oldStyle[_key];if(isAnimated(value)){// do nothing\ncontinue;}if(oldValue!==value){diff[_key]=value;}}return diff;};_f._closure={isAnimated:isAnimated};_f.asString=\"function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}\";_f.__workletHash=17473811638003;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (137:7)\";return _f;}();export var getStyleWithoutAnimations=function(){var _f=function _f(newStyle){var diff={};for(var key in newStyle){var value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;};_f._closure={isAnimated:isAnimated};_f.asString=\"function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}\";_f.__workletHash=2190466090064;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (158:7)\";return _f;}();export var validateAnimatedStyles=function(){var _f=function _f(styles){if(typeof styles!=='object'){throw new Error(\"useAnimatedStyle has to return an object, found \".concat(typeof styles,\" instead\"));}else if(Array.isArray(styles)){throw new Error('useAnimatedStyle has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.');}};_f._closure={};_f.asString=\"function _f(styles){if(typeof styles!=='object'){throw new Error(\\\"useAnimatedStyle has to return an object, found \\\"+typeof styles+\\\" instead\\\");}else if(Array.isArray(styles)){throw new Error('useAnimatedStyle has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.');}}\";_f.__workletHash=316286613811;_f.__location=\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (170:38)\";return _f;}();","map":{"version":3,"names":["useEffect","useRef","processColor","makeRemote","isWeb","isJest","colorProps","WorkletEventHandler","useEvent","handler","eventNames","rebuild","initRef","current","updateWorklet","useHandler","handlers","dependencies","context","savedDependencies","buildDependencies","doDependenciesDiffer","areDependenciesEqual","useWeb","buildWorkletsHash","Object","values","reduce","acc","worklet","__workletHash","toString","handlersList","filter","undefined","map","workletHash","closure","_closure","push","nextDeps","prevDeps","is","x","y","objectIs","areHookInputsEqual","length","i","hasColorProps","updates","colorPropsSet","Set","key","has","parseColors","_f","indexOf","processedColor","asString","__location","canApplyOptimalisation","upadterFn","FUNCTIONLESS_FLAG","STATEMENTLESS_FLAG","optimalization","__optimalization","isAnimated","prop","propsToCheck","currentProp","pop","Array","isArray","item","onFrame","styleDiff","oldStyle","newStyle","diff","value","oldValue","getStyleWithoutAnimations","validateAnimatedStyles","styles","Error"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { processColor } from '../Colors';\nimport { makeRemote } from '../core';\nimport { isWeb, isJest } from '../PlatformChecker';\nimport { colorProps } from '../UpdateProps';\nimport WorkletEventHandler from '../WorkletEventHandler';\nexport function useEvent(handler, eventNames = [], rebuild = false) {\n  const initRef = useRef(null);\n\n  if (initRef.current === null) {\n    initRef.current = new WorkletEventHandler(handler, eventNames);\n  } else if (rebuild) {\n    initRef.current.updateWorklet(handler);\n  }\n\n  useEffect(() => {\n    return () => {\n      initRef.current = null;\n    };\n  }, []);\n  return initRef;\n}\nexport function useHandler(handlers, dependencies) {\n  const initRef = useRef(null);\n\n  if (initRef.current === null) {\n    initRef.current = {\n      context: makeRemote({}),\n      savedDependencies: []\n    };\n  }\n\n  useEffect(() => {\n    return () => {\n      initRef.current = null;\n    };\n  }, []);\n  const {\n    context,\n    savedDependencies\n  } = initRef.current;\n  dependencies = buildDependencies(dependencies, handlers);\n  const doDependenciesDiffer = !areDependenciesEqual(dependencies, savedDependencies);\n  initRef.current.savedDependencies = dependencies;\n  const useWeb = isWeb() || isJest();\n  return {\n    context,\n    doDependenciesDiffer,\n    useWeb\n  };\n} // builds one big hash from multiple worklets' hashes\n\nexport function buildWorkletsHash(handlers) {\n  return Object.values(handlers).reduce((acc, worklet) => // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  acc + worklet.__workletHash.toString(), '');\n} // builds dependencies array for gesture handlers\n\nexport function buildDependencies(dependencies, handlers) {\n  const handlersList = Object.values(handlers).filter(handler => handler !== undefined);\n\n  if (!dependencies) {\n    dependencies = handlersList.map(handler => {\n      return {\n        workletHash: handler.__workletHash,\n        closure: handler._closure\n      };\n    });\n  } else {\n    dependencies.push(buildWorkletsHash(handlersList));\n  }\n\n  return dependencies;\n} // this is supposed to work as useEffect comparison\n\nexport function areDependenciesEqual(nextDeps, prevDeps) {\n  function is(x, y) {\n    /* eslint-disable no-self-compare */\n    return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y;\n    /* eslint-enable no-self-compare */\n  }\n\n  const objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n  function areHookInputsEqual(nextDeps, prevDeps) {\n    if (!nextDeps || !prevDeps || prevDeps.length !== nextDeps.length) {\n      return false;\n    }\n\n    for (let i = 0; i < prevDeps.length; ++i) {\n      if (!objectIs(nextDeps[i], prevDeps[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return areHookInputsEqual(nextDeps, prevDeps);\n}\nexport function hasColorProps(updates) {\n  const colorPropsSet = new Set(colorProps);\n\n  for (const key in updates) {\n    if (colorPropsSet.has(key)) {\n      return true;\n    }\n  }\n\n  return false;\n}\nexport const parseColors = function () {\n  const _f = function (updates) {\n    for (const key in updates) {\n      if (colorProps.indexOf(key) !== -1) {\n        // value could be an animation in which case processColor will recognize it and will return undefined\n        // -> in such a case we don't want to override style of that key\n        const processedColor = processColor(updates[key]);\n\n        if (processedColor !== undefined) {\n          updates[key] = processedColor;\n        }\n      }\n    }\n  };\n\n  _f._closure = {\n    colorProps,\n    processColor\n  };\n  _f.asString = \"function parseColors(updates){const{colorProps,processColor}=jsThis._closure;{for(const key in updates){if(colorProps.indexOf(key)!==-1){const processedColor=processColor(updates[key]);if(processedColor!==undefined){updates[key]=processedColor;}}}}}\";\n  _f.__workletHash = 3582645873562;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (94:7)\";\n  return _f;\n}();\nexport function canApplyOptimalisation(upadterFn) {\n  const FUNCTIONLESS_FLAG = 0b00000001;\n  const STATEMENTLESS_FLAG = 0b00000010; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const optimalization = upadterFn.__optimalization;\n  return optimalization & FUNCTIONLESS_FLAG && optimalization & STATEMENTLESS_FLAG;\n}\nexport const isAnimated = function () {\n  const _f = function (prop) {\n    const propsToCheck = [prop];\n\n    while (propsToCheck.length > 0) {\n      const currentProp = propsToCheck.pop();\n\n      if (Array.isArray(currentProp)) {\n        for (const item of currentProp) {\n          propsToCheck.push(item);\n        }\n      } else if ((currentProp === null || currentProp === void 0 ? void 0 : currentProp.onFrame) !== undefined) {\n        return true;\n      } else if (typeof currentProp === 'object') {\n        for (const item of Object.values(currentProp)) {\n          propsToCheck.push(item);\n        }\n      } // if none of the above, it's not the animated prop, check next one\n\n    } // when none of the props were animated return false\n\n\n    // when none of the props were animated return false\n    return false;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}\";\n  _f.__workletHash = 3559579197933;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (114:7)\";\n  return _f;\n}();\nexport const styleDiff = function () {\n  const _f = function (oldStyle, newStyle) {\n    const diff = {};\n\n    for (const key in oldStyle) {\n      if (newStyle[key] === undefined) {\n        diff[key] = null;\n      }\n    }\n\n    for (const key in newStyle) {\n      const value = newStyle[key];\n      const oldValue = oldStyle[key];\n\n      if (isAnimated(value)) {\n        // do nothing\n        continue;\n      }\n\n      if (oldValue !== value) {\n        diff[key] = value;\n      }\n    }\n\n    return diff;\n  };\n\n  _f._closure = {\n    isAnimated\n  };\n  _f.asString = \"function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}\";\n  _f.__workletHash = 17473811638003;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (137:7)\";\n  return _f;\n}();\nexport const getStyleWithoutAnimations = function () {\n  const _f = function (newStyle) {\n    const diff = {};\n\n    for (const key in newStyle) {\n      const value = newStyle[key];\n\n      if (isAnimated(value)) {\n        continue;\n      }\n\n      diff[key] = value;\n    }\n\n    return diff;\n  };\n\n  _f._closure = {\n    isAnimated\n  };\n  _f.asString = \"function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}\";\n  _f.__workletHash = 2190466090064;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (158:7)\";\n  return _f;\n}();\nexport const validateAnimatedStyles = function () {\n  const _f = function (styles) {\n    if (typeof styles !== 'object') {\n      throw new Error(`useAnimatedStyle has to return an object, found ${typeof styles} instead`);\n    } else if (Array.isArray(styles)) {\n      throw new Error('useAnimatedStyle has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.');\n    }\n  };\n\n  _f._closure = {};\n  _f.asString = \"function _f(styles){if(typeof styles!=='object'){throw new Error(\\\"useAnimatedStyle has to return an object, found \\\"+typeof styles+\\\" instead\\\");}else if(Array.isArray(styles)){throw new Error('useAnimatedStyle has to return an object and cannot return static styles combined with dynamic ones. Please do merging where a component receives props.');}}\";\n  _f.__workletHash = 316286613811;\n  _f.__location = \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/hook/utils.js (170:38)\";\n  return _f;\n}();"],"mappings":"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"},"metadata":{},"sourceType":"module"}