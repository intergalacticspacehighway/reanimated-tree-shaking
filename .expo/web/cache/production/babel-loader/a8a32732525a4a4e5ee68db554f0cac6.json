{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import MutableValue from'./MutableValue';var Mapper=/*#__PURE__*/function(){function Mapper(module,mapper){var _this=this;var inputs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var outputs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];_classCallCheck(this,Mapper);this.dirty=true;this.id=Mapper.MAPPER_ID++;this.inputs=this.extractMutablesFromArray(inputs);this.outputs=this.extractMutablesFromArray(outputs);this.mapper=mapper;var markDirty=function markDirty(){_this.dirty=true;module.maybeRequestRender();};this.inputs.forEach(function(input){input.addListener(markDirty);});}_createClass(Mapper,[{key:\"execute\",value:function execute(){this.dirty=false;this.mapper();}},{key:\"extractMutablesFromArray\",value:function extractMutablesFromArray(array){var res=[];function extractMutables(value){if(value==null){// return;\n}else if(value instanceof MutableValue){res.push(value);}else if(Array.isArray(value)){value.forEach(function(v){return extractMutables(v);});}else if(typeof value==='object'){Object.keys(value).forEach(function(key){extractMutables(value[key]);});}}extractMutables(array);return res;}}]);return Mapper;}();export{Mapper as default};Mapper.MAPPER_ID=1;","map":{"version":3,"names":["MutableValue","Mapper","module","mapper","inputs","outputs","dirty","id","MAPPER_ID","extractMutablesFromArray","markDirty","maybeRequestRender","forEach","input","addListener","array","res","extractMutables","value","push","Array","isArray","v","Object","keys","key"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/Mapper.js"],"sourcesContent":["import MutableValue from './MutableValue';\nexport default class Mapper {\n  constructor(module, mapper, inputs = [], outputs = []) {\n    this.dirty = true;\n    this.id = Mapper.MAPPER_ID++;\n    this.inputs = this.extractMutablesFromArray(inputs);\n    this.outputs = this.extractMutablesFromArray(outputs);\n    this.mapper = mapper;\n\n    const markDirty = () => {\n      this.dirty = true;\n      module.maybeRequestRender();\n    };\n\n    this.inputs.forEach(input => {\n      input.addListener(markDirty);\n    });\n  }\n\n  execute() {\n    this.dirty = false;\n    this.mapper();\n  }\n\n  extractMutablesFromArray(array) {\n    const res = [];\n\n    function extractMutables(value) {\n      if (value == null) {// return;\n      } else if (value instanceof MutableValue) {\n        res.push(value);\n      } else if (Array.isArray(value)) {\n        value.forEach(v => extractMutables(v));\n      } else if (typeof value === 'object') {\n        Object.keys(value).forEach(key => {\n          extractMutables(value[key]);\n        });\n      }\n    }\n\n    extractMutables(array);\n    return res;\n  }\n\n}\nMapper.MAPPER_ID = 1;"],"mappings":"sSAAA,MAAOA,CAAAA,YAAP,KAAyB,gBAAzB,C,GACqBC,CAAAA,M,yBACnB,gBAAYC,MAAZ,CAAoBC,MAApB,CAAuD,mBAA3BC,CAAAA,MAA2B,2DAAlB,EAAkB,IAAdC,CAAAA,OAAc,2DAAJ,EAAI,8BACrD,KAAKC,KAAL,CAAa,IAAb,CACA,KAAKC,EAAL,CAAUN,MAAM,CAACO,SAAP,EAAV,CACA,KAAKJ,MAAL,CAAc,KAAKK,wBAAL,CAA8BL,MAA9B,CAAd,CACA,KAAKC,OAAL,CAAe,KAAKI,wBAAL,CAA8BJ,OAA9B,CAAf,CACA,KAAKF,MAAL,CAAcA,MAAd,CAEA,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,KAAI,CAACJ,KAAL,CAAa,IAAb,CACAJ,MAAM,CAACS,kBAAP,GACD,CAHD,CAKA,KAAKP,MAAL,CAAYQ,OAAZ,CAAoB,SAAAC,KAAK,CAAI,CAC3BA,KAAK,CAACC,WAAN,CAAkBJ,SAAlB,EACD,CAFD,EAGD,C,0CAED,kBAAU,CACR,KAAKJ,KAAL,CAAa,KAAb,CACA,KAAKH,MAAL,GACD,C,wCAED,kCAAyBY,KAAzB,CAAgC,CAC9B,GAAMC,CAAAA,GAAG,CAAG,EAAZ,CAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,GAAIA,KAAK,EAAI,IAAb,CAAmB,CAAC;AACnB,CADD,IACO,IAAIA,KAAK,WAAYlB,CAAAA,YAArB,CAAmC,CACxCgB,GAAG,CAACG,IAAJ,CAASD,KAAT,EACD,CAFM,IAEA,IAAIE,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAJ,CAA0B,CAC/BA,KAAK,CAACN,OAAN,CAAc,SAAAU,CAAC,QAAIL,CAAAA,eAAe,CAACK,CAAD,CAAnB,EAAf,EACD,CAFM,IAEA,IAAI,MAAOJ,CAAAA,KAAP,GAAiB,QAArB,CAA+B,CACpCK,MAAM,CAACC,IAAP,CAAYN,KAAZ,EAAmBN,OAAnB,CAA2B,SAAAa,GAAG,CAAI,CAChCR,eAAe,CAACC,KAAK,CAACO,GAAD,CAAN,CAAf,CACD,CAFD,EAGD,CACF,CAEDR,eAAe,CAACF,KAAD,CAAf,CACA,MAAOC,CAAAA,GAAP,CACD,C,6BAzCkBf,M,aA4CrBA,MAAM,CAACO,SAAP,CAAmB,CAAnB"},"metadata":{},"sourceType":"module"}