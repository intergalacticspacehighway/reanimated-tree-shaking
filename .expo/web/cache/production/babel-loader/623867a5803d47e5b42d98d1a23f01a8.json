{"ast":null,"code":"\"use strict\";exports.__esModule=true;exports.setResponderId=setResponderId;exports.getResponderPaths=getResponderPaths;exports.getLowestCommonAncestor=getLowestCommonAncestor;exports.hasTargetTouches=hasTargetTouches;exports.hasValidSelection=hasValidSelection;exports.isPrimaryPointerDown=isPrimaryPointerDown;var _isSelectionValid=_interopRequireDefault(require(\"../../modules/isSelectionValid\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj};}/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */var keyName='__reactResponderId';function getEventPath(domEvent){// The 'selectionchange' event always has the 'document' as the target.\n// Use the anchor node as the initial target to reconstruct a path.\n// (We actually only need the first \"responder\" node in practice.)\nif(domEvent.type==='selectionchange'){var target=window.getSelection().anchorNode;return composedPathFallback(target);}else{var path=domEvent.composedPath!=null?domEvent.composedPath():composedPathFallback(domEvent.target);return path;}}function composedPathFallback(target){var path=[];while(target!=null&&target!==document.body){path.push(target);target=target.parentNode;}return path;}/**\n * Retrieve the responderId from a host node\n */function getResponderId(node){if(node!=null){return node[keyName];}return null;}/**\n * Store the responderId on a host node\n */function setResponderId(node,id){if(node!=null){node[keyName]=id;}}/**\n * Filter the event path to contain only the nodes attached to the responder system\n */function getResponderPaths(domEvent){var idPath=[];var nodePath=[];var eventPath=getEventPath(domEvent);for(var i=0;i<eventPath.length;i++){var node=eventPath[i];var id=getResponderId(node);if(id!=null){idPath.push(id);nodePath.push(node);}}return{idPath:idPath,nodePath:nodePath};}/**\n * Walk the paths and find the first common ancestor\n */function getLowestCommonAncestor(pathA,pathB){var pathALength=pathA.length;var pathBLength=pathB.length;if(// If either path is empty\npathALength===0||pathBLength===0||// If the last elements aren't the same there can't be a common ancestor\n// that is connected to the responder system\npathA[pathALength-1]!==pathB[pathBLength-1]){return null;}var itemA=pathA[0];var indexA=0;var itemB=pathB[0];var indexB=0;// If A is deeper, skip indices that can't match.\nif(pathALength-pathBLength>0){indexA=pathALength-pathBLength;itemA=pathA[indexA];pathALength=pathBLength;}// If B is deeper, skip indices that can't match\nif(pathBLength-pathALength>0){indexB=pathBLength-pathALength;itemB=pathB[indexB];pathBLength=pathALength;}// Walk in lockstep until a match is found\nvar depth=pathALength;while(depth--){if(itemA===itemB){return itemA;}itemA=pathA[indexA++];itemB=pathB[indexB++];}return null;}/**\n * Determine whether any of the active touches are within the current responder.\n * This cannot rely on W3C `targetTouches`, as neither IE11 nor Safari implement it.\n */function hasTargetTouches(target,touches){if(!touches||touches.length===0){return false;}for(var i=0;i<touches.length;i++){var node=touches[i].target;if(node!=null){if(target.contains(node)){return true;}}}return false;}/**\n * Ignore 'selectionchange' events that don't correspond with a person's intent to\n * select text.\n */function hasValidSelection(domEvent){if(domEvent.type==='selectionchange'){return(0,_isSelectionValid[\"default\"])();}return domEvent.type==='select';}/**\n * Events are only valid if the primary button was used without specific modifier keys.\n */function isPrimaryPointerDown(domEvent){var altKey=domEvent.altKey,button=domEvent.button,buttons=domEvent.buttons,ctrlKey=domEvent.ctrlKey,type=domEvent.type;var isTouch=type==='touchstart'||type==='touchmove';var isPrimaryMouseDown=type==='mousedown'&&(button===0||buttons===1);var isPrimaryMouseMove=type==='mousemove'&&buttons===1;var noModifiers=altKey===false&&ctrlKey===false;if(isTouch||isPrimaryMouseDown&&noModifiers||isPrimaryMouseMove&&noModifiers){return true;}return false;}","map":{"version":3,"names":["exports","__esModule","setResponderId","getResponderPaths","getLowestCommonAncestor","hasTargetTouches","hasValidSelection","isPrimaryPointerDown","_isSelectionValid","_interopRequireDefault","require","obj","keyName","getEventPath","domEvent","type","target","window","getSelection","anchorNode","composedPathFallback","path","composedPath","document","body","push","parentNode","getResponderId","node","id","idPath","nodePath","eventPath","i","length","pathA","pathB","pathALength","pathBLength","itemA","indexA","itemB","indexB","depth","touches","contains","altKey","button","buttons","ctrlKey","isTouch","isPrimaryMouseDown","isPrimaryMouseMove","noModifiers"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-web/dist/cjs/modules/useResponderEvents/utils.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.setResponderId = setResponderId;\nexports.getResponderPaths = getResponderPaths;\nexports.getLowestCommonAncestor = getLowestCommonAncestor;\nexports.hasTargetTouches = hasTargetTouches;\nexports.hasValidSelection = hasValidSelection;\nexports.isPrimaryPointerDown = isPrimaryPointerDown;\n\nvar _isSelectionValid = _interopRequireDefault(require(\"../../modules/isSelectionValid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar keyName = '__reactResponderId';\n\nfunction getEventPath(domEvent) {\n  // The 'selectionchange' event always has the 'document' as the target.\n  // Use the anchor node as the initial target to reconstruct a path.\n  // (We actually only need the first \"responder\" node in practice.)\n  if (domEvent.type === 'selectionchange') {\n    var target = window.getSelection().anchorNode;\n    return composedPathFallback(target);\n  } else {\n    var path = domEvent.composedPath != null ? domEvent.composedPath() : composedPathFallback(domEvent.target);\n    return path;\n  }\n}\n\nfunction composedPathFallback(target) {\n  var path = [];\n\n  while (target != null && target !== document.body) {\n    path.push(target);\n    target = target.parentNode;\n  }\n\n  return path;\n}\n/**\n * Retrieve the responderId from a host node\n */\n\n\nfunction getResponderId(node) {\n  if (node != null) {\n    return node[keyName];\n  }\n\n  return null;\n}\n/**\n * Store the responderId on a host node\n */\n\n\nfunction setResponderId(node, id) {\n  if (node != null) {\n    node[keyName] = id;\n  }\n}\n/**\n * Filter the event path to contain only the nodes attached to the responder system\n */\n\n\nfunction getResponderPaths(domEvent) {\n  var idPath = [];\n  var nodePath = [];\n  var eventPath = getEventPath(domEvent);\n\n  for (var i = 0; i < eventPath.length; i++) {\n    var node = eventPath[i];\n    var id = getResponderId(node);\n\n    if (id != null) {\n      idPath.push(id);\n      nodePath.push(node);\n    }\n  }\n\n  return {\n    idPath: idPath,\n    nodePath: nodePath\n  };\n}\n/**\n * Walk the paths and find the first common ancestor\n */\n\n\nfunction getLowestCommonAncestor(pathA, pathB) {\n  var pathALength = pathA.length;\n  var pathBLength = pathB.length;\n\n  if ( // If either path is empty\n  pathALength === 0 || pathBLength === 0 || // If the last elements aren't the same there can't be a common ancestor\n  // that is connected to the responder system\n  pathA[pathALength - 1] !== pathB[pathBLength - 1]) {\n    return null;\n  }\n\n  var itemA = pathA[0];\n  var indexA = 0;\n  var itemB = pathB[0];\n  var indexB = 0; // If A is deeper, skip indices that can't match.\n\n  if (pathALength - pathBLength > 0) {\n    indexA = pathALength - pathBLength;\n    itemA = pathA[indexA];\n    pathALength = pathBLength;\n  } // If B is deeper, skip indices that can't match\n\n\n  if (pathBLength - pathALength > 0) {\n    indexB = pathBLength - pathALength;\n    itemB = pathB[indexB];\n    pathBLength = pathALength;\n  } // Walk in lockstep until a match is found\n\n\n  var depth = pathALength;\n\n  while (depth--) {\n    if (itemA === itemB) {\n      return itemA;\n    }\n\n    itemA = pathA[indexA++];\n    itemB = pathB[indexB++];\n  }\n\n  return null;\n}\n/**\n * Determine whether any of the active touches are within the current responder.\n * This cannot rely on W3C `targetTouches`, as neither IE11 nor Safari implement it.\n */\n\n\nfunction hasTargetTouches(target, touches) {\n  if (!touches || touches.length === 0) {\n    return false;\n  }\n\n  for (var i = 0; i < touches.length; i++) {\n    var node = touches[i].target;\n\n    if (node != null) {\n      if (target.contains(node)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n/**\n * Ignore 'selectionchange' events that don't correspond with a person's intent to\n * select text.\n */\n\n\nfunction hasValidSelection(domEvent) {\n  if (domEvent.type === 'selectionchange') {\n    return (0, _isSelectionValid.default)();\n  }\n\n  return domEvent.type === 'select';\n}\n/**\n * Events are only valid if the primary button was used without specific modifier keys.\n */\n\n\nfunction isPrimaryPointerDown(domEvent) {\n  var altKey = domEvent.altKey,\n      button = domEvent.button,\n      buttons = domEvent.buttons,\n      ctrlKey = domEvent.ctrlKey,\n      type = domEvent.type;\n  var isTouch = type === 'touchstart' || type === 'touchmove';\n  var isPrimaryMouseDown = type === 'mousedown' && (button === 0 || buttons === 1);\n  var isPrimaryMouseMove = type === 'mousemove' && buttons === 1;\n  var noModifiers = altKey === false && ctrlKey === false;\n\n  if (isTouch || isPrimaryMouseDown && noModifiers || isPrimaryMouseMove && noModifiers) {\n    return true;\n  }\n\n  return false;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}