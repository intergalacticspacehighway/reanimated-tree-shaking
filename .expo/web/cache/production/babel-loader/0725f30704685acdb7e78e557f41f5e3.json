{"ast":null,"code":"\"use strict\";exports.__esModule=true;exports[\"default\"]=createStyleResolver;var _ExecutionEnvironment=require(\"fbjs/lib/ExecutionEnvironment\");var _createCSSStyleSheet=_interopRequireDefault(require(\"./createCSSStyleSheet\"));var _createCompileableStyle=_interopRequireDefault(require(\"./createCompileableStyle\"));var _createOrderedCSSStyleSheet=_interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));var _flattenArray=_interopRequireDefault(require(\"../../modules/flattenArray\"));var _flattenStyle=_interopRequireDefault(require(\"./flattenStyle\"));var _I18nManager=_interopRequireDefault(require(\"../I18nManager\"));var _i18nStyle=_interopRequireDefault(require(\"./i18nStyle\"));var _compile=require(\"./compile\");var _initialRules=_interopRequireDefault(require(\"./initialRules\"));var _modality=_interopRequireDefault(require(\"./modality\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj};}/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */ /**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */function createStyleResolver(){var inserted,sheet,cache;var resolved={css:{},ltr:{},rtl:{},rtlNoSwap:{}};var init=function init(){inserted={css:{},ltr:{},rtl:{},rtlNoSwap:{}};sheet=(0,_createOrderedCSSStyleSheet[\"default\"])((0,_createCSSStyleSheet[\"default\"])(_constants.STYLE_ELEMENT_ID));cache={};(0,_modality[\"default\"])(function(rule){return sheet.insert(rule,_constants.STYLE_GROUPS.modality);});_initialRules[\"default\"].forEach(function(rule){sheet.insert(rule,_constants.STYLE_GROUPS.reset);});};init();function addToCache(className,prop,value){if(!cache[prop]){cache[prop]={};}cache[prop][value]=className;}function getClassName(prop,value){var val=(0,_compile.stringifyValueWithProperty)(value,prop);return cache[prop]&&cache[prop].hasOwnProperty(val)&&cache[prop][val];}function _injectRegisteredStyle(id){var _I18nManager$getConst=_I18nManager[\"default\"].getConstants(),doLeftAndRightSwapInRTL=_I18nManager$getConst.doLeftAndRightSwapInRTL,isRTL=_I18nManager$getConst.isRTL;var dir=isRTL?doLeftAndRightSwapInRTL?'rtl':'rtlNoSwap':'ltr';if(!inserted[dir][id]){var style=(0,_createCompileableStyle[\"default\"])((0,_i18nStyle[\"default\"])((0,_flattenStyle[\"default\"])(id)));var results=(0,_compile.atomic)(style);Object.keys(results).forEach(function(key){var _results$key=results[key],identifier=_results$key.identifier,property=_results$key.property,rules=_results$key.rules,value=_results$key.value;addToCache(identifier,property,value);rules.forEach(function(rule){var group=_constants.STYLE_GROUPS.custom[property]||_constants.STYLE_GROUPS.atomic;sheet.insert(rule,group);});});inserted[dir][id]=true;}}/**\n   * Resolves a React Native style object to DOM attributes\n   */function resolve(style,classList){var nextClassList=[];var props={};if(!style&&!classList){return props;}if(Array.isArray(classList)){(0,_flattenArray[\"default\"])(classList).forEach(function(identifier){if(identifier){if(inserted.css[identifier]==null&&resolved.css[identifier]!=null){var item=resolved.css[identifier];item.rules.forEach(function(rule){sheet.insert(rule,item.group);});inserted.css[identifier]=true;}nextClassList.push(identifier);}});}if(typeof style==='number'){// fast and cachable\n_injectRegisteredStyle(style);var key=createCacheKey(style);props=_resolveStyle(style,key);}else if(!Array.isArray(style)){// resolve a plain RN style object\nprops=_resolveStyle(style);}else{// flatten the style array\n// cache resolved props when all styles are registered\n// otherwise fallback to resolving\nvar flatArray=(0,_flattenArray[\"default\"])(style);var isArrayOfNumbers=true;var cacheKey='';for(var i=0;i<flatArray.length;i++){var id=flatArray[i];if(typeof id!=='number'){isArrayOfNumbers=false;}else{if(isArrayOfNumbers){cacheKey+=id+'-';}_injectRegisteredStyle(id);}}var _key=isArrayOfNumbers?createCacheKey(cacheKey):null;props=_resolveStyle(flatArray,_key);}nextClassList.push.apply(nextClassList,props.classList);var finalProps={className:classListToString(nextClassList),classList:nextClassList};if(props.style){finalProps.style=props.style;}return finalProps;}/**\n   * Resolves a React Native style object\n   */function _resolveStyle(style,key){var _I18nManager$getConst2=_I18nManager[\"default\"].getConstants(),doLeftAndRightSwapInRTL=_I18nManager$getConst2.doLeftAndRightSwapInRTL,isRTL=_I18nManager$getConst2.isRTL;var dir=isRTL?doLeftAndRightSwapInRTL?'rtl':'rtlNoSwap':'ltr';// faster: memoized\nif(key!=null&&resolved[dir][key]!=null){return resolved[dir][key];}var flatStyle=(0,_flattenStyle[\"default\"])(style);var localizedStyle=(0,_createCompileableStyle[\"default\"])((0,_i18nStyle[\"default\"])(flatStyle));// slower: convert style object to props and cache\nvar props=Object.keys(localizedStyle).sort().reduce(function(props,styleProp){var value=localizedStyle[styleProp];if(value!=null){var className=getClassName(styleProp,value);if(className){props.classList.push(className);}else{// Certain properties and values are not transformed by 'createReactDOMStyle' as they\n// require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n// can bind these styles to a className, and prevent them becoming invalid inline-styles.\nif(styleProp==='animationKeyframes'||styleProp==='placeholderTextColor'||styleProp==='pointerEvents'||styleProp==='scrollbarWidth'){var _atomic;var a=(0,_compile.atomic)((_atomic={},_atomic[styleProp]=value,_atomic));Object.keys(a).forEach(function(key){var _a$key=a[key],identifier=_a$key.identifier,rules=_a$key.rules;props.classList.push(identifier);rules.forEach(function(rule){sheet.insert(rule,_constants.STYLE_GROUPS.atomic);});});}else{if(!props.style){props.style={};}// 4x slower render\nprops.style[styleProp]=value;}}}return props;},{classList:[]});if(props.style){props.style=(0,_compile.inline)(props.style);}if(key!=null){resolved[dir][key]=props;}return props;}return{getStyleSheet:function getStyleSheet(){var textContent=sheet.getTextContent();// Reset state on the server so critical css is always the result\nif(!_ExecutionEnvironment.canUseDOM){init();}return{id:_constants.STYLE_ELEMENT_ID,textContent:textContent};},createCSS:function createCSS(rules,group){var result={};Object.keys(rules).forEach(function(name){var style=rules[name];var compiled=(0,_compile.classic)(style,name);Object.keys(compiled).forEach(function(key){var _compiled$key=compiled[key],identifier=_compiled$key.identifier,rules=_compiled$key.rules;resolved.css[identifier]={group:group||_constants.STYLE_GROUPS.classic,rules:rules};result[name]=identifier;});});return result;},resolve:resolve,get sheet(){return sheet;}};}/**\n * Misc helpers\n */var createCacheKey=function createCacheKey(id){var prefix='rn';return prefix+\"-\"+id;};var classListToString=function classListToString(list){return list.join(' ').trim();};module.exports=exports[\"default\"];","map":{"version":3,"names":["exports","__esModule","createStyleResolver","_ExecutionEnvironment","require","_createCSSStyleSheet","_interopRequireDefault","_createCompileableStyle","_createOrderedCSSStyleSheet","_flattenArray","_flattenStyle","_I18nManager","_i18nStyle","_compile","_initialRules","_modality","_constants","obj","inserted","sheet","cache","resolved","css","ltr","rtl","rtlNoSwap","init","STYLE_ELEMENT_ID","rule","insert","STYLE_GROUPS","modality","forEach","reset","addToCache","className","prop","value","getClassName","val","stringifyValueWithProperty","hasOwnProperty","_injectRegisteredStyle","id","_I18nManager$getConst","getConstants","doLeftAndRightSwapInRTL","isRTL","dir","style","results","atomic","Object","keys","key","_results$key","identifier","property","rules","group","custom","resolve","classList","nextClassList","props","Array","isArray","item","push","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","i","length","_key","apply","finalProps","classListToString","_I18nManager$getConst2","flatStyle","localizedStyle","sort","reduce","styleProp","_atomic","a","_a$key","inline","getStyleSheet","textContent","getTextContent","canUseDOM","createCSS","result","name","compiled","classic","_compiled$key","prefix","list","join","trim","module"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-web/dist/cjs/exports/StyleSheet/createStyleResolver.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nfunction createStyleResolver() {\n  var inserted, sheet, cache;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    cache = {};\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToCache(className, prop, value) {\n    if (!cache[prop]) {\n      cache[prop] = {};\n    }\n\n    cache[prop][value] = className;\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var _I18nManager$getConst = _I18nManager.default.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToCache(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var _I18nManager$getConst2 = _I18nManager.default.getConstants(),\n        doLeftAndRightSwapInRTL = _I18nManager$getConst2.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager$getConst2.isRTL;\n\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.keys(a).forEach(function (key) {\n              var _a$key = a[key],\n                  identifier = _a$key.identifier,\n                  rules = _a$key.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.keys(compiled).forEach(function (key) {\n          var _compiled$key = compiled[key],\n              identifier = _compiled$key.identifier,\n              rules = _compiled$key.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n\n    get sheet() {\n      return sheet;\n    }\n\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nmodule.exports = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}