{"ast":null,"code":"import _classCallCheck from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";import _get from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";import _inherits from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import AnimatedNode from'./AnimatedNode';import{val}from'../val';import ReanimatedModule from'../../ReanimatedModule';import invariant from'invariant';function sanitizeValue(value){return value===null||value===undefined||typeof value==='string'?value:Number(value);}var CONSTANT_VALUES=new Map();function initializeConstantValues(){if(CONSTANT_VALUES.size!==0){return;}[0,-1,1,-2,2].forEach(function(v){return CONSTANT_VALUES.set(v,new InternalAnimatedValue(v,true));});}/**\n * This class has been made internal in order to omit dependencies' cycles which\n * were caused by imperative setValue and interpolate – they are currently exposed with AnimatedValue.js\n */var InternalAnimatedValue=/*#__PURE__*/function(_AnimatedNode){_inherits(InternalAnimatedValue,_AnimatedNode);var _super=_createSuper(InternalAnimatedValue);function InternalAnimatedValue(value){var _this;var constant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,InternalAnimatedValue);invariant(value!==null,'Animated.Value cannot be set to the null');_this=_super.call(this,{type:'value',value:sanitizeValue(value)});_this._startingValue=_this._value=value;_this._animation=null;_this._constant=constant;return _this;}_createClass(InternalAnimatedValue,[{key:\"__detach\",value:function __detach(){var _this2=this;if(!this._constant){if(ReanimatedModule.getValue){ReanimatedModule.getValue(this.__nodeID,function(val){return _this2.__nodeConfig.value=val;});}else{this.__nodeConfig.value=this.__getValue();}}this.__detachAnimation(this._animation);_get(_getPrototypeOf(InternalAnimatedValue.prototype),\"__detach\",this).call(this);}},{key:\"__detachAnimation\",value:function __detachAnimation(animation){animation&&animation.__detach();if(this._animation===animation){this._animation=null;}}},{key:\"__attachAnimation\",value:function __attachAnimation(animation){this.__detachAnimation(this._animation);this._animation=animation;}},{key:\"__onEvaluate\",value:function __onEvaluate(){if(this.__inputNodes&&this.__inputNodes.length){this.__inputNodes.forEach(val);}return this._value;}// AnimatedValue will override this method to modify the value of a native node.\n},{key:\"setValue\",value:function setValue(value){this.__detachAnimation(this._animation);this._updateValue(value);}},{key:\"_updateValue\",value:function _updateValue(value){this._value=value;this.__forceUpdateCache(value);}}],[{key:\"valueForConstant\",value:function valueForConstant(number){initializeConstantValues();return CONSTANT_VALUES.get(number)||new InternalAnimatedValue(number,true);}}]);return InternalAnimatedValue;}(AnimatedNode);export{InternalAnimatedValue as default};","map":{"version":3,"names":["_classCallCheck","_createClass","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","AnimatedNode","val","ReanimatedModule","invariant","sanitizeValue","value","undefined","Number","CONSTANT_VALUES","Map","initializeConstantValues","size","forEach","v","set","InternalAnimatedValue","_AnimatedNode","_super","_this","constant","length","type","_startingValue","_value","_animation","_constant","key","__detach","_this2","getValue","__nodeID","__nodeConfig","__getValue","__detachAnimation","animation","__attachAnimation","__onEvaluate","__inputNodes","setValue","_updateValue","__forceUpdateCache","valueForConstant","number","get","default"],"sources":["/Users/fernandorojo/Developer/messing/rea-tree/node_modules/react-native-reanimated/lib/reanimated1/core/InternalAnimatedValue.js"],"sourcesContent":["import _classCallCheck from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/fernandorojo/Developer/messing/rea-tree/node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport AnimatedNode from './AnimatedNode';\nimport { val } from '../val';\nimport ReanimatedModule from '../../ReanimatedModule';\nimport invariant from 'invariant';\n\nfunction sanitizeValue(value) {\n  return value === null || value === undefined || typeof value === 'string' ? value : Number(value);\n}\n\nvar CONSTANT_VALUES = new Map();\n\nfunction initializeConstantValues() {\n  if (CONSTANT_VALUES.size !== 0) {\n    return;\n  }\n\n  [0, -1, 1, -2, 2].forEach(function (v) {\n    return CONSTANT_VALUES.set(v, new InternalAnimatedValue(v, true));\n  });\n}\n/**\n * This class has been made internal in order to omit dependencies' cycles which\n * were caused by imperative setValue and interpolate – they are currently exposed with AnimatedValue.js\n */\n\n\nvar InternalAnimatedValue = /*#__PURE__*/function (_AnimatedNode) {\n  _inherits(InternalAnimatedValue, _AnimatedNode);\n\n  var _super = _createSuper(InternalAnimatedValue);\n\n  function InternalAnimatedValue(value) {\n    var _this;\n\n    var constant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _classCallCheck(this, InternalAnimatedValue);\n\n    invariant(value !== null, 'Animated.Value cannot be set to the null');\n    _this = _super.call(this, {\n      type: 'value',\n      value: sanitizeValue(value)\n    });\n    _this._startingValue = _this._value = value;\n    _this._animation = null;\n    _this._constant = constant;\n    return _this;\n  }\n\n  _createClass(InternalAnimatedValue, [{\n    key: \"__detach\",\n    value: function __detach() {\n      var _this2 = this;\n\n      if (!this._constant) {\n        if (ReanimatedModule.getValue) {\n          ReanimatedModule.getValue(this.__nodeID, function (val) {\n            return _this2.__nodeConfig.value = val;\n          });\n        } else {\n          this.__nodeConfig.value = this.__getValue();\n        }\n      }\n\n      this.__detachAnimation(this._animation);\n\n      _get(_getPrototypeOf(InternalAnimatedValue.prototype), \"__detach\", this).call(this);\n    }\n  }, {\n    key: \"__detachAnimation\",\n    value: function __detachAnimation(animation) {\n      animation && animation.__detach();\n\n      if (this._animation === animation) {\n        this._animation = null;\n      }\n    }\n  }, {\n    key: \"__attachAnimation\",\n    value: function __attachAnimation(animation) {\n      this.__detachAnimation(this._animation);\n\n      this._animation = animation;\n    }\n  }, {\n    key: \"__onEvaluate\",\n    value: function __onEvaluate() {\n      if (this.__inputNodes && this.__inputNodes.length) {\n        this.__inputNodes.forEach(val);\n      }\n\n      return this._value;\n    } // AnimatedValue will override this method to modify the value of a native node.\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      this.__detachAnimation(this._animation);\n\n      this._updateValue(value);\n    }\n  }, {\n    key: \"_updateValue\",\n    value: function _updateValue(value) {\n      this._value = value;\n\n      this.__forceUpdateCache(value);\n    }\n  }], [{\n    key: \"valueForConstant\",\n    value: function valueForConstant(number) {\n      initializeConstantValues();\n      return CONSTANT_VALUES.get(number) || new InternalAnimatedValue(number, true);\n    }\n  }]);\n\n  return InternalAnimatedValue;\n}(AnimatedNode);\n\nexport { InternalAnimatedValue as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}